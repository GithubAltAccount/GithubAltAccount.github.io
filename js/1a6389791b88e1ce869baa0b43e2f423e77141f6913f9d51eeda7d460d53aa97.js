!function(){"use strict";var e={n:function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,{a:n}),n},d:function(t,n){for(var a in n)e.o(n,a)&&!e.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:n[a]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}},t=jQuery,n=e.n(t),a=Roblox;Roblox.EnvironmentUrls=Roblox.EnvironmentUrls||{};var i,o,r,c,s,p,d,u,l,f,v={urls:{getMetadata:"".concat(a.EnvironmentUrls.apiGatewayCdnUrl,"/captcha/v1/metadata"),funCaptchaRedeem:{WebSignup:"".concat(a.EnvironmentUrls.captchaApi,"/v1/funcaptcha/signup/web"),AppSignup:"".concat(a.EnvironmentUrls.captchaApi,"/v1/funcaptcha/signup/app"),WebLogin:"".concat(a.EnvironmentUrls.captchaApi,"/v1/funcaptcha/login/web"),AppLogin:"".concat(a.EnvironmentUrls.captchaApi,"/v1/funcaptcha/login/app"),WebResetPassword:"".concat(a.EnvironmentUrls.captchaApi,"/v1/funcaptcha/resetpassword/web"),UserAction:"".concat(a.EnvironmentUrls.captchaApi,"/v1/funcaptcha/user"),WebGamecardRedemption:"".concat(a.EnvironmentUrls.captchaApi,"/v1/funcaptcha/gamecardredemption/web")}},funCaptchaPublicKeyMap:{Login:"ACTION_TYPE_WEB_LOGIN",AppLogin:"ACTION_TYPE_WEB_LOGIN",Signup:"ACTION_TYPE_WEB_SIGNUP",AppSignup:"ACTION_TYPE_WEB_SIGNUP",JoinGroup:"ACTION_TYPE_GROUP_JOIN",GroupWallPost:"ACTION_TYPE_GROUP_WALL_POST",ResetPassword:"ACTION_TYPE_WEB_RESET_PASSWORD",ToyCodeRedeem:"ACTION_TYPE_WEB_GAMECARD_REDEMPTION",SupportRequest:"ACTION_TYPE_SUPPORT_REQUEST",FollowUser:"ACTION_TYPE_FOLLOW_USER"},endpoints:{sendMessage:"",addFriend:"",follow:"",signup:"",joinGroup:"",login:"",postComment:"",clothingUpload:"",favorite:"",appSignup:"",appLogin:"",resetPassword:""},serviceData:{sitekey:"",successSuffix:"Captcha_Success",failSuffix:"Captcha_Failed",displayedSuffix:"Captcha_Displayed",captchaSolvedPrefix:"Captcha_User_Solved_InSeconds_",captchaSolveTimeIntervals:[{seconds:1,suffix:"Less_Than_1"},{seconds:3,suffix:"1_To_3"},{seconds:10,suffix:"4_To_10"},{seconds:20,suffix:"11_To_20"},{seconds:30,suffix:"21_To_30"},{seconds:40,suffix:"31_To_40"},{seconds:50,suffix:"41_To_50"}],captchaSolveTimeLarge:"Greater_Than_50",badgePosition:"bottomright",logConstants:{successSuffix:"_Success",failSuffix:"_Failed",maxFailSuffix:"_MaxFailed",retrySuffix:"_Retried",displayedSuffix:"_Displayed",triggeredSuffix:"_Triggered",initializedSuffix:"_Initialized",suppressedSuffix:"_Suppressed",providerErrorSuffix:"_FailedToLoad",metadataErrorSuffix:"_FailedToLoadMetadata",completedTimeSequenceSuffix:"_SolveTime",solvedPrefix:"_User_Solved_InSeconds_",solveTimeIntervals:[{seconds:1,suffix:"Less_Than_1"},{seconds:3,suffix:"1_To_3"},{seconds:10,suffix:"4_To_10"},{seconds:20,suffix:"11_To_20"},{seconds:30,suffix:"21_To_30"},{seconds:40,suffix:"31_To_40"},{seconds:50,suffix:"41_To_50"}],solveTimeLarge:"Greater_Than_50",eventStreamCaptchaEventName:"captcha",eventStreamCaptchaInitiatedEventName:"captchaInitiated",eventStreamCaptchaTokenReceivedEventName:"captchaTokenReceived",captchaInitiatedChallengeTypes:{visible:"visible",hidden:"hidden",error:"error"}}},types:{signup:"signup",sendMessage:"sendMessage",addFriend:"addFriend",follow:"follow",joinGroup:"joinGroup",login:"login",postComment:"postComment",clothingUpload:"clothingUpload",favorite:"favorite",appSignup:"appSignup",appLogin:"appLogin",gameCardRedeem:"gameCardRedeem",resetPassword:"resetPassword"},ids:{defaultCaptcha:"captcha-container",signup:"signup-captcha",login:"login-captcha",friends:"friends-captcha",groups:"groups-captcha",profile:"profile-captcha",playerSearch:"player-search-captcha",appCaptcha:"app-captcha",gameCardRedeem:"game-card-redeem-captcha",resetPassword:"reset-password-captcha"},messageElementIds:{defaultError:"captcha-error"},eventElementIds:{shown:"captcha-event-shown",token:"captcha-event-token",provider:"captcha-event-provider"},hybridEvents:{shown:"CaptchaShown",success:"CaptchaSuccess"},messages:{error:"We currently cannot verify CAPTCHA, please try again later.",funCaptchaError:"We currently cannot verify FunCaptcha, please try again later."},translationRequestParams:{consumerType:"Web",contentNamespace:"Common.Captcha",Keys:["Response.CaptchaErrorFailedToVerify"]},errorCodes:{failedToLoadProviderScript:0,failedToVerify:1},localeToFunCaptchaLanguageCodeMap:{"de-de":"de","en-us":"en","es-es":"es","fr-fr":"fr","pt-br":"pt-br","ko-kr":"ko","zh-cn":"zh","zh-tw":"zh-tw","ja-jp":"ja"},appTypes:{android:"android",ios:"ios",xbox:"xbox",uwp:"uwp","studio-windows":"studio-windows","studio-mac":"studio-mac","studio-luobu-windows":"studio-luobu-windows","studio-luobu-mac":"studio-luobu-mac",unknown:"unknown"},captchaProviders:{arkoseLabs:"PROVIDER_ARKOSE_LABS"},metadataLoadParameters:{timeoutMilliseconds:1e4,waitIntervalMilliseconds:100}};function h(e){return e.charAt(0).toUpperCase()+e.slice(1)}function T(){return(new Date).valueOf()}function g(e){"function"==typeof d&&d();var t,n=null;r&&(t=function(e){for(var t=f.captchaSolvedPrefix,n=f.captchaSolveTimeIntervals,a=0;a<n.length;a++){var i=n[a];if(e<=1e3*i.seconds)return t+i.suffix}return t+f.captchaSolveTimeLarge}(t=n=T()-r),window.EventTracker&&window.EventTracker.fireEvent(h(c+t)),r=null),S(c,e,n)}function m(e,t,n){a.EventStream&&(t=t||0,n=n?"true":"false",a.EventStream.SendEventWithTarget("captcha",e,{solveDuration:t,success:n,provider:"Google"},a.EventStream.TargetTypes.WWW))}function S(e,t,o){t={"g-Recaptcha-Response":t,isInvisible:l.invisible},n().ajax({method:"POST",data:t,success:function(){window.EventTracker&&window.EventTracker.fireEvent(h(e+f.successSuffix)),m(e,o,!0),s&&(s(),n()("#"+i).empty())},error:function(){window.EventTracker&&window.EventTracker.fireEvent(h(e+f.failSuffix)),m(e,o,!1),p&&p(),a.BootstrapWidgets&&a.BootstrapWidgets.ToggleSystemMessage(n()(".alert-warning"),100,2e3,v.messages.error)},url:u[e]})}var E=(u=v.endpoints,l={invisible:!1},f=v.serviceData,{ids:v.ids,types:v.types,setEndpoint:function(e,t){u[e]=t},getEndpoint:function(e){return u[e]},setInvisibleMode:function(e){l.invisible=e},getInvisibleMode:function(){return l.invisible},setSiteKey:function(e){f.sitekey=e},verify:S,reset:function(e,t,n,a){c=e,s=t,p=n,d=a,window.grecaptcha&&(window.grecaptcha.reset(o),l.invisible&&window.grecaptcha.execute(o))},render:function(e,t,n,a,u){c=t,s=n,p=a,d=u,i=e,window.grecaptcha&&(u={sitekey:f.sitekey,callback:g,badge:f.badgePosition},l.invisible&&(u.size="invisible"),o=window.grecaptcha.render(e,u),window.EventTracker&&window.EventTracker.fireEvent(h(c+f.displayedSuffix)),r=T())},execute:function(){window.grecaptcha&&l.invisible&&window.grecaptcha.execute(o)},setMultipleEndpoints:function(e,t){if(e&&t)for(var n=0;n<e.length;n++){var a=(a=e[n]).charAt(0).toLowerCase()+a.slice(1);u[a]=t}}});function w(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function C(e){return new Promise((function(t,a){n().ajax({method:"POST",url:"".concat(D,"/v1/metrics/record"),data:JSON.stringify(e),contentType:"application/json",timeout:1e4,success:t,error:a,withCredentials:!0})}))}var y,_,b,x,P,I,k,R,A,O,W,L,U,F,M,N=function(){function e(){!function(t){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this.timeStore={}}var t,n;return t=e,(n=[{key:"start",value:function(e){this.timeStore[e]=Date.now()}},{key:"end",value:function(e){var t=this.timeStore[e];return t?(delete this.timeStore[e],(new Date).valueOf()-t):null}}])&&w(t.prototype,n),e}(),D=(t=null!==(G=a.EnvironmentUrls.apiGatewayUrl)&&void 0!==G?G:"URL_NOT_FOUND","".concat(t,"/account-security-service")),G=function(e){var t,i=v,o=n().extend({},i.serviceData).logConstants,r=!1;function c(e){return r&&void 0!==t?"".concat(e,"_").concat(t):e}function s(e){return e.charAt(0).toUpperCase()+e.slice(1)}this.provider=e,this.eventTimer=new N,this.setPerAppTypeLoggingEnabled=function(e){var n,o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:void 0,c=null;void 0===o?(a.UrlParser&&(n=a.UrlParser.getParameterValueByName("appType"),i&&i.appTypes&&i.appTypes.hasOwnProperty(n)&&(c=n)),null==c&&a.DeviceMeta&&(0,a.DeviceMeta)().isInApp&&(c=(0,a.DeviceMeta)().appType),null!==c&&(r=e,t=c)):t=o},this.fireEventCaptcha=function(e,n){C({name:"event_captcha",value:1,labelValues:{action_type:s(e),event_type:s(this.provider+n),application_type:t||"unknown"}}).catch((function(){}))},this.fireSolveTimeCaptcha=function(e,n,a){C({name:"solve_time_captcha",value:a,labelValues:{action_type:s(e),event_type:s(this.provider+n),application_type:t||"unknown"}}).catch((function(){}))},this.fireEvent=function(e,t){this.fireEventCaptcha(e,t),t=s(e+this.provider+t),window.EventTracker&&window.EventTracker.fireEvent(c(t))},this.startStatisticsSequence=function(e){this.eventTimer.start(e),window.EventTracker&&window.EventTracker.start(c(e))},this.endStatisticsSequenceWithSuccess=function(e){window.EventTracker&&window.EventTracker.endSuccess(c(e))},this.endStatisticsSequenceWithFailure=function(e){window.EventTracker&&window.EventTracker.endFailure(c(e))},this.logSuccess=function(e){var t=s(e+this.provider+o.completedTimeSequenceSuffix);this.fireEvent(e,o.successSuffix),this.fireSolveTimeCaptcha(e,o.successSuffix,this.eventTimer.end(t)),this.endStatisticsSequenceWithSuccess(t)},this.logFail=function(e){this.fireEvent(e,o.failSuffix)},this.logMaxFail=function(e){var t=s(e+this.provider+o.completedTimeSequenceSuffix);this.fireEvent(e,o.maxFailSuffix),this.fireSolveTimeCaptcha(e,o.completedTimeSequenceSuffix,this.eventTimer.end(t)),this.endStatisticsSequenceWithFailure(t)},this.logRetried=function(e){this.fireEvent(e,o.retrySuffix)},this.logTriggered=function(e){this.fireEvent(e,o.triggeredSuffix),this.startStatisticsSequence(s(e+this.provider+o.completedTimeSequenceSuffix))},this.logInitialized=function(e){this.fireEvent(e,o.initializedSuffix)},this.logSuppressed=function(e){this.fireEvent(e,o.suppressedSuffix)},this.logDisplayed=function(e){this.fireEvent(e,o.displayedSuffix)},this.logProviderError=function(e){this.fireEvent(e,o.providerErrorSuffix)},this.logMetadataError=function(e){this.fireEvent(e,o.metadataErrorSuffix)},this.logCaptchaShownEventToEventStream=function(e,t,n){this.logCaptchaInitiatedEventToEventStream(e,o.captchaInitiatedChallengeTypes.visible,t,n)},this.logCaptchaSuppressedEventToEventStream=function(e,t,n){this.logCaptchaInitiatedEventToEventStream(e,o.captchaInitiatedChallengeTypes.hidden,t,n)},this.logCaptchaErrorEventToEventStream=function(e,t,n,a){this.logCaptchaInitiatedEventToEventStream(e,o.captchaInitiatedChallengeTypes.error,t,n,a.toString())},this.logCaptchaInitiatedEventToEventStream=function(e,t,n,i,r){a.EventStream&&(e=e,t={type:t,provider:this.provider},""!==n&&void 0!==n&&(t.session=n),""!==i&&void 0!==i&&(t.ucid=i),""!==r&&void 0!==r&&(t.message=r),a.EventStream.SendEventWithTarget(o.eventStreamCaptchaInitiatedEventName,e,t,a.EventStream.TargetTypes.WWW))},this.logCaptchaTokenReceivedEventToEventStream=function(e,t,n){a.EventStream&&a.EventStream.SendEventWithTarget(o.eventStreamCaptchaTokenReceivedEventName,e,{provider:this.provider,session:t,ucid:n||""},a.EventStream.TargetTypes.WWW)},this.logCaptchaEventToEventStream=function(e,t,n,i,r){a.EventStream&&(t=t||0,n=n?"true":"false",a.EventStream.SendEventWithTarget(o.eventStreamCaptchaEventName,e,{solveDuration:t,success:n,provider:this.provider,session:i||"",ucid:r||""},a.EventStream.TargetTypes.WWW))}};function j(e){for(var t=0;t<_.length;t++)if(_[t].Type===e)return _[t];return null}function B(e){F[e]&&F[e].fcInstance.refresh_session()}function V(){var e=n()("#game-card-redeem-captcha").addClass("hidden").detach();n()("#redeem-card-wrapper").append(e),a.Dialog.close()}function q(){return n()(b).val()}function z(){return(new Date).valueOf()}_=[],n().extend({},v.messages),b="#FunCaptcha-Token",x="#fc-iframe-wrap",I=!(P=500),k=0,R=500,A=1500,O=new G("FunCaptcha"),W={},M={cType:null,tokenValidationRetries:0,extraValidationParams:{},returnTokenInSuccessCb:!(F={}),inputParams:{dataExchange:U=L="",unifiedCaptchaId:L},solvedCb:n().noop,loadedCb:n().noop,supressCb:n().noop,shownCb:n().noop,successCb:n().noop,errorCb:n().noop,fcInstance:null},t={types:n().extend({},v.types),setMaxRetriesOnTokenValidationFailure:function(e){k=e},setRetryIntervalRange:function(e,t){R=e,A=t},reset:B,render:function e(t,i){if(I=!1,O.logTriggered(i.cType),i.inputParams&&(U=null==i.inputParams.dataExchange?"":i.inputParams.dataExchange,L=null==i.inputParams.unifiedCaptchaId?"":i.inputParams.unifiedCaptchaId),F[t]&&F[t].fcInstance)return F[t].fcInstance.data={blob:U},B(t),t;var o=function(e,t){return t=n().extend({},M,t),F[e]=t}(t,i);y=z(),O.logInitialized(o.cType);var r=j(o.cType);if(null==r)return O.logMetadataError(o.cType),o.errorCb&&o.errorCb(v.errorCodes.failedToLoadProviderScript),t;try{o.fcInstance=new FunCaptcha({public_key:r.PublicKey,target_html:t,language:function(){if(a.Intl){var e=new a.Intl;if(v.localeToFunCaptchaLanguageCodeMap.hasOwnProperty(e.locale))return v.localeToFunCaptchaLanguageCodeMap[e.locale]}}(),data:{blob:U},callback:function(){var a=null;y&&(a=z()-y,y=null);var i,r,c,s,p,d=q();O.logCaptchaTokenReceivedEventToEventStream(o.cType,d,L),!0===o.returnTokenInSuccessCb?(O.logSuccess(o.cType),O.logCaptchaEventToEventStream(o.cType,a,!0,d),o.successCb(d,L)):(i=o,r=t,s=a,p=L,d={fcToken:c=d},d=n().extend({},d,i.extraValidationParams),n().ajax({method:"POST",data:d,url:j(i.cType).ApiUrl,success:function(){O.logSuccess(i.cType),O.logCaptchaEventToEventStream(i.cType,s,!0,c,p),i.successCb()},error:function(){O.logFail(i.cType),i.tokenValidationRetries<k?I||(I=!0,setTimeout((function(){var t,n;t=i,n=r,I&&(t.tokenValidationRetries+=1,O.logRetried(t.cType),e(n,t))}),R+Math.floor(Math.random()*(A-R)))):(O.logMaxFail(i.cType),O.logCaptchaEventToEventStream(i.cType,s,!1,c,p),i.errorCb&&i.errorCb(v.errorCodes.failedToVerify,null))}}),o.solvedCb())},loaded_callback:function(){o.cType,setTimeout((function(){n()(x).focus()}),P),o.loadedCb()},onsuppress:function(){var e,t;e=o.cType,t=L,O.logSuppressed(e),O.logCaptchaSuppressedEventToEventStream(e,q(),t),o.suppressCb()},onshown:function(){var e,t;e=o.cType,t=L,O.logDisplayed(e),O.logCaptchaShownEventToEventStream(e,q(),t),o.shownCb()}})}catch(i){O.logProviderError(o.cType),O.logCaptchaErrorEventToEventStream(o.cType,q(),L,i),o.errorCb&&o.errorCb(v.errorCodes.failedToLoadProviderScript,i)}return t},addCaptchaTypes:function(e,t){e&&e.forEach((function(e){var n={Type:t?(n=e.Type).charAt(0).toLowerCase()+n.slice(1):e.Type,ApiUrl:e.ApiUrl,PublicKey:e.PublicKey};e=JSON.stringify(n);W.hasOwnProperty(e)||(W[e]=n,_.push(n))}))},setPerAppTypeLoggingEnabled:function(e,t){t=1<arguments.length&&void 0!==t?t:void 0,O.setPerAppTypeLoggingEnabled(e,t)},showFunCaptchaInModal:function(){a.Dialog.open({bodyContent:'<div id="funcaptcha-modal-body" class="funcaptcha-modal-body"></div>',allowHtmlContentInBody:!0,showAccept:!1,showDecline:!1,xToCancel:!0,onCloseCallback:V});var e=n()("#game-card-redeem-captcha").removeClass("hidden").detach();n()("#funcaptcha-modal-body").append(e)},dismissFunCaptchaModal:V,captchaInstances:F,loggerInstance:O},window.Roblox.Captcha=E,window.Roblox.CaptchaLogger=G,window.Roblox.FunCaptcha=t,window.Roblox.CaptchaV2ServiceCaptchaIdBase=0,window.Roblox.CaptchaConstants=v}(),window.Roblox&&window.Roblox.BundleDetector&&window.Roblox.BundleDetector.bundleDetected("CaptchaCore");