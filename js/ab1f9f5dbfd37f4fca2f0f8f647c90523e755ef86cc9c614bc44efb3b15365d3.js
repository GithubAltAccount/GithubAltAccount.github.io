!function(){var e={292:function(e,t,n){function r(){var e;try{e=t.storage.debug}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e}(t=e.exports=n(765)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),n){n="color: "+this.color,e.splice(1,0,n,"color: inherit");var r=0,a=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(r++,"%c"===e&&(a=r))})),e.splice(a,0,n)}},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}},t.load=r,t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},t.enable(r())},765:function(e,t,n){var r;function a(e){function n(){if(n.enabled){var e=n,a=+new Date,o=a-(r||a);e.diff=o,e.prev=r,e.curr=a,r=a;for(var i=new Array(arguments.length),l=0;l<i.length;l++)i[l]=arguments[l];i[0]=t.coerce(i[0]),"string"!=typeof i[0]&&i.unshift("%O");var s=0;i[0]=i[0].replace(/%([a-zA-Z%])/g,(function(n,r){if("%%"===n)return n;s++;var a=t.formatters[r];return"function"==typeof a&&(r=i[s],n=a.call(e,r),i.splice(s,1),s--),n})),t.formatArgs.call(e,i),(n.log||t.log||console.log.bind(console)).apply(e,i)}}return n.namespace=e,n.enabled=t.enabled(e),n.useColors=t.useColors(),n.color=function(e){var n,r=0;for(n in e)r=(r<<5)-r+e.charCodeAt(n),r|=0;return t.colors[Math.abs(r)%t.colors.length]}(e),"function"==typeof t.init&&t.init(n),n}(t=e.exports=a.debug=a.default=a).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){t.save(e),t.names=[],t.skips=[];for(var n=("string"==typeof e?e:"").split(/[\s,]+/),r=n.length,a=0;a<r;a++)n[a]&&("-"===(e=n[a].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(628),t.names=[],t.skips=[],t.formatters={}},204:function(e){function t(e,t){e.onload=function(){this.onerror=this.onload=null,t(null,e)},e.onerror=function(){this.onerror=this.onload=null,t(new Error("Failed to load "+this.src),e)}}function n(e,t){e.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||(this.onreadystatechange=null,t(null,e))}}e.exports=function(e,r,a){var o=document.head||document.getElementsByTagName("head")[0],i=document.createElement("script");"function"==typeof r&&(a=r,r={}),r=r||{},a=a||function(){},i.type=r.type||"text/javascript",i.charset=r.charset||"utf8",i.async=!("async"in r)||!!r.async,i.src=e,r.attrs&&function(e,t){for(var n in t)e.setAttribute(n,t[n])}(i,r.attrs),r.text&&(i.text=""+r.text),("onload"in i?t:n)(i,a),i.onload||t(i,a),o.appendChild(i)}},628:function(e){var t=36e5,n=864e5;function r(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}e.exports=function(e,a){a=a||{};var o=typeof e;if("string"==o&&0<e.length)return function(e){if(!(100<(e=String(e)).length)&&(e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e))){var r=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*r;case"days":case"day":case"d":return r*n;case"hours":case"hour":case"hrs":case"hr":case"h":return r*t;case"minutes":case"minute":case"mins":case"min":case"m":return 6e4*r;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}(e);if("number"==o&&!1===isNaN(e))return a.long?r(a=e,n,"day")||r(a,t,"hour")||r(a,6e4,"minute")||r(a,1e3,"second")||a+" ms":function(e){return n<=e?Math.round(e/n)+"d":t<=e?Math.round(e/t)+"h":6e4<=e?Math.round(e/6e4)+"m":1e3<=e?Math.round(e/1e3)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},438:function(e){"use strict";e.exports=function(){var e={},t={};return e.on=function(e,n){return n={name:e,handler:n},t[e]=t[e]||[],t[e].unshift(n),n},e.off=function(e){var n=t[e.name].indexOf(e);-1!==n&&t[e.name].splice(n,1)},e.trigger=function(e,n){var r,a=t[e];if(a)for(r=a.length;r--;)a[r].handler(n)},e}},771:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r;n=(r=n(606))&&r.__esModule?r:{default:r};t.default={pauseVideo:{acceptableStates:[n.default.ENDED,n.default.PAUSED],stateChangeRequired:!1},playVideo:{acceptableStates:[n.default.ENDED,n.default.PLAYING],stateChangeRequired:!1},seekTo:{acceptableStates:[n.default.ENDED,n.default.PLAYING,n.default.PAUSED],stateChangeRequired:!0,timeout:3e3}},e.exports=t.default},368:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(n(292)),a=l(n(376)),o=l(n(645)),i=l(n(771));function l(e){return e&&e.__esModule?e:{default:e}}var s=(0,r.default)("youtube-player");r={proxyEvents:function(e){var t={},n=!0,r=!1,a=void 0;try{for(var i,l=o.default[Symbol.iterator]();!(n=(i=l.next()).done);n=!0)!function(n){var r="on"+n.slice(0,1).toUpperCase()+n.slice(1);t[r]=function(t){s('event "%s"',r,t),e.trigger(n,t)}}(i.value)}catch(t){r=!0,a=t}finally{try{!n&&l.return&&l.return()}finally{if(r)throw a}}return t},promisifyPlayer:function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n={},r=!0,o=!1,l=void 0;try{for(var s,u=a.default[Symbol.iterator]();!(r=(s=u.next()).done);r=!0)!function(r){t&&i.default[r]?n[r]=function(){for(var t=arguments.length,n=Array(t),a=0;a<t;a++)n[a]=arguments[a];return e.then((function(e){var t=i.default[r],a=e.getPlayerState(),o=e[r].apply(e,n);return t.stateChangeRequired||Array.isArray(t.acceptableStates)&&-1===t.acceptableStates.indexOf(a)?new Promise((function(n){e.addEventListener("onStateChange",(function r(){var a=e.getPlayerState(),o=void 0;"number"==typeof t.timeout&&(o=setTimeout((function(){e.removeEventListener("onStateChange",r),n()}),t.timeout)),Array.isArray(t.acceptableStates)&&-1!==t.acceptableStates.indexOf(a)&&(e.removeEventListener("onStateChange",r),clearTimeout(o),n())}))})).then((function(){return o})):o}))}:n[r]=function(){for(var t=arguments.length,n=Array(t),a=0;a<t;a++)n[a]=arguments[a];return e.then((function(e){return e[r].apply(e,n)}))}}(s.value)}catch(t){o=!0,l=t}finally{try{!r&&u.return&&u.return()}finally{if(o)throw l}}return n}};t.default=r,e.exports=t.default},606:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={BUFFERING:3,ENDED:0,PAUSED:2,PLAYING:1,UNSTARTED:-1,VIDEO_CUED:5},e.exports=t.default},645:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["ready","stateChange","playbackQualityChange","playbackRateChange","error","apiChange","volumeChange"],e.exports=t.default},376:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["cueVideoById","loadVideoById","cueVideoByUrl","loadVideoByUrl","playVideo","pauseVideo","stopVideo","getVideoLoadedFraction","cuePlaylist","loadPlaylist","nextVideo","previousVideo","playVideoAt","setShuffle","setLoop","getPlaylist","getPlaylistIndex","setOption","mute","unMute","isMuted","setVolume","getVolume","seekTo","getPlayerState","getPlaybackRate","setPlaybackRate","getAvailablePlaybackRates","getPlaybackQuality","setPlaybackQuality","getAvailableQualityLevels","getCurrentTime","getDuration","removeEventListener","getVideoUrl","getVideoEmbedCode","getOptions","getOption","addEventListener","destroy","setSize","getIframe"],e.exports=t.default},640:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=l(n(438)),o=l(n(341)),i=l(n(368));function l(e){return e&&e.__esModule?e:{default:e}}var s=void 0;t.default=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length&&void 0!==arguments[2]&&arguments[2],l=(0,a.default)();if(s=s||(0,o.default)(l),t.events)throw new Error("Event handlers cannot be overwritten.");if("string"==typeof e&&!document.getElementById(e))throw new Error('Element "'+e+'" does not exist.');t.events=i.default.proxyEvents(l);var u=new Promise((function(n){"object"===(void 0===e?"undefined":r(e))&&e.playVideo instanceof Function?n(e):s.then((function(r){var a=new r.Player(e,t);return l.on("ready",(function(){n(a)})),null}))}));return(n=i.default.promisifyPlayer(u,n)).on=l.on,n.off=l.off,n},e.exports=t.default},341:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=(r=n(204))&&r.__esModule?r:{default:r};t.default=function(e){return new Promise((function(t){var n,r;window.YT&&window.YT.Player&&window.YT.Player instanceof Function?t(window.YT):(n="http:"===window.location.protocol?"http:":"https:",(0,a.default)(n+"//www.youtube.com/iframe_api",(function(t){t&&e.trigger("error",t)})),r=window.onYouTubeIframeAPIReady,window.onYouTubeIframeAPIReady=function(){r&&r(),t(window.YT)})}))},e.exports=t.default},779:function(e,t){var n;
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/!function(){"use strict";var r={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n;if("string"==o||"number"==o)e.push(n);else if(Array.isArray(n)&&n.length){var i=a.apply(null,n);i&&e.push(i)}else if("object"==o)for(var l in n)r.call(n,l)&&n[l]&&e.push(l)}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(n=function(){return a}.apply(t,[]))||(e.exports=n)}()}},t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){"use strict";function e(e,t,n){return{name:"buttonClick",type:"buttonClick",context:W,params:{btn:e,page:"shareLinkErrorDialog",linkType:"ExperienceInvite",linkId:t,linkStatus:n}}}var t,r=CoreUtilities,a=React,o=n.n(a),i=ReactDOM,l=ReactStyleGuide,s=ReactUtilities,u=CoreRobloxUtilities,c="LabelPlayingOnePlusUsersWithComma",d="LabelPlayingOneUser",f="Heading.Description",m="Label.Playing",p="Label.Favorites",v="Label.Visits",y="Label.Created",h="Label.Updated",g="Label.MaxPlayers",b="Label.Genre",w="Label.AllowedGear",E="Label.ReportAbuse",I="Label.PlaceCopyingAllowed",S="Label.VoiceEnabled",P="Label.Yes",x="Label.No",N="Heading.RecommendedGames",T="LabelAllGenreAllowed",k="LabelGearOnly",C="LabelNoGear",D="Label.InviteExpiredError",R="Label.InviterNotHereError",G="Description.InviteExpiredError",L="Description.InviterNotHereError",O="Label.Cancel",A="Label.Play",U={common:[],feature:"Feature.GameGearOptionsDisplay"},V={common:["CommonUI.Controls"],feature:"Feature.GameDetails"},M={common:["Common.VisitGame"],feature:"Feature.SocialShare"},F=(HeaderScripts,Roblox),B=F.EnvironmentUrls.gamesApi,j={url:{getOmniRecommendations:function(e,t){return{url:B+"/v1/games/omni-recommendations?model.pageType="+e+(void 0!==t?"&model.sessionId="+t:""),withCredentials:!0}},getOmniRecommendationsMetadata:{url:B+"/v1/games/omni-recommendations-metadata",withCredentials:!0},getGameList:{url:B+"/v1/games/list",withCredentials:!0},getGamePasses:function(e,t){return{url:r.urlService.getAbsoluteUrl("/Games/GetGamePassesPaged?placeId="+e+"&startIndex=0&maxRows="+t),withCredentials:!0}},getGameRecommendations:function(e){return{url:B+"/v1/games/recommendations/game/"+e,withCredentials:!0}},getGameSorts:{url:B+"/v1/games/sorts",withCredentials:!0},getUniverseVoiceStatus:function(e){return{withCredentials:!0,url:F.EnvironmentUrls.voiceApi+"/v1/settings/universe/"+e}},getVoiceOptInStatus:{withCredentials:!0,url:F.EnvironmentUrls.voiceApi+"/v1/settings/user-opt-in"}},defaultCacheCriteria:{refreshCache:!1,expirationWindowMS:3e4,useCache:!0}},_=function(e,t,n,r){return new(n=n||Promise)((function(a,o){function i(e){try{s(r.next(e))}catch(e){o(e)}}function l(e){try{s(r.throw(e))}catch(e){o(e)}}function s(e){var t;e.done?a(e.value):((t=e.value)instanceof n?t:new n((function(e){e(t)}))).then(i,l)}s((r=r.apply(e,t||[])).next())}))},z=function(e,t){var n,r,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=0<(a=o.trys).length&&a[a.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},H=u.dataStores.gamesDataStore,q=(u.dataStores.userDataStoreV2,u.dataStores.userDataStore.FriendsUserSortType,function(e){return _(void 0,void 0,Promise,(function(){return z(this,(function(t){switch(t.label){case 0:return[4,H.getGameDetails([e])];case 1:return[2,t.sent().data.data[0]]}}))}))}),Y=function(e,t){return _(void 0,void 0,Promise,(function(){return z(this,(function(n){switch(n.label){case 0:return[4,r.httpService.get(j.url.getGameRecommendations(e),{maxRows:t})];case 1:return[2,n.sent().data]}}))}))},Q=function(e){return _(void 0,void 0,Promise,(function(){var t,n;return z(this,(function(a){switch(a.label){case 0:return[4,r.httpService.get(j.url.getUniverseVoiceStatus(e))];case 1:return n=a.sent().data,t=n,[4,r.httpService.get(j.url.getVoiceOptInStatus)];case 2:return n=a.sent().data,[2,{universeStatus:t.isUniverseEnabledForVoice,optInStatus:n.isUserOptIn}]}}))}))},J=function(e){return _(void 0,void 0,Promise,(function(){var t;return z(this,(function(n){switch(n.label){case 0:return[4,H.getPlaceDetails([e])];case 1:return[2,(void 0===(t=n.sent().data)?[]:t)[0]]}}))}))},W="shareLinks";(t=X=X||{}).VALID="Valid",t.EXPIRED="Expired",t.INVITER_NOT_IN_EXPERIENCE="InviterNotInExperience";var X,$,Z=X,K=((X={})[Z.EXPIRED]={Header:D,Description:G},X[Z.INVITER_NOT_IN_EXPERIENCE]={Header:R,Description:L},X),ee=function(){return document.getElementById("game-details-invite-link-expired-modal-container")},te=(0,s.withTranslations)((function(t){var n=t.translate,r=t.linkId,i=t.linkStatus,s=t.placeId,c=t.universeId,d=(m=(0,a.useState)(!0))[0],f=m[1],m=(t=(0,a.useState)(void 0))[0],p=t[1];function v(){return f(!1)}return(0,a.useEffect)((function(){q(c).then((function(e){p(e)}),(function(){return!1}))}),[c]),t=o().createElement("p",null,n(K[i].Description,{experienceName:null==m?void 0:m.name})),o().createElement(l.SimpleModal,{show:d,title:n(K[i].Header),body:m&&t,loading:!m,actionButtonShow:!0,actionButtonText:n(A),neutralButtonText:n(O),onAction:function(){u.playGameService.launchGame(u.playGameService.buildPlayGameProperties(s,s),{eventName:"joinGameFromInviteLink",gamePlayIntentEventCtx:W,ctx:W,properties:{linkStatus:i,linkType:"ExperienceInvite",placeId:s,linkId:r}});var t=e("join",r,i);u.eventStreamService.sendEventWithTarget(t.type,t.context,t.params),v()},onClose:v,onNeutral:function(){var t=e("cancel",r,i);u.eventStreamService.sendEventWithTarget(t.type,t.context,t.params),v()}})}),M);(M={})[M.Image=1]="Image",M[M.YouTubeVideo=33]="YouTubeVideo",M[M.Unknown=0]="Unknown",(M=$=$||{}).Image="Image",M.YouTubeVideo="YouTubeVideo",M.Place="Place",M[M.Unknown=0]="Unknown";M=n(779);var ne,re=n.n(M),ae=RobloxThumbnails,oe=(M=n(640),n.n(M)),ie="game-details-play-button-container",le=function(){return document.getElementById("game-details-carousel-container")},se="Action.Back",ue="Action.Next",ce=6e3,de=function(e,t,n,r){return new(n=n||Promise)((function(a,o){function i(e){try{s(r.next(e))}catch(e){o(e)}}function l(e){try{s(r.throw(e))}catch(e){o(e)}}function s(e){var t;e.done?a(e.value):((t=e.value)instanceof n?t:new n((function(e){e(t)}))).then(i,l)}s((r=r.apply(e,t||[])).next())}))},fe=function(e,t){var n,r,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=0<(a=o.trys).length&&a[a.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};function me(e){return{PowerUps:"PowerUp",Music:"Musical",PersonalTransport:"Transport"}[e]||e}function pe(e,t){return e.filter((function(e){var n;return(null===(n=e.presence)||void 0===n?void 0:n.universeId)===t&&(null===(e=e.presence)||void 0===e?void 0:e.userPresenceType)===F.Presence.PresenceTypes.InGame}))}function ve(e){return e.charAt(0).toUpperCase()+e.slice(1)}function ye(e){var t=e.split(/([A-Z][a-z]*)/g);return 1===t.length?e:ve(t.filter((function(e){return 0!==e.length})).join(" "))}function he(e){return Object.keys(e).reduce((function(t,n){return"object"==typeof e[n]&&e[n]&&(t[n]=JSON.stringify(e[n])),"number"==typeof e[n]&&(t[n]=e[n]),"string"==typeof e[n]&&(t[n]=encodeURIComponent(e[n])),"boolean"==typeof e[n]&&(t[n]=e[n]?1:0),t}),{})}(M=ne=ne||{})[M.Unstarted=-1]="Unstarted",M[M.Ended=0]="Ended",M[M.Playing=1]="Playing",M[M.Paused=2]="Paused",M[M.Buffering=3]="Buffering",M[M.Cued=5]="Cued";var ge=(0,a.forwardRef)((function(e,t){function n(e){switch(e.data){case ne.Playing:case ne.Buffering:s&&s(e);break;case ne.Paused:u&&u(e);break;case ne.Ended:c&&c(e)}}function r(e){var t;null!==(t=f.current)&&void 0!==t&&t.mute(),d&&d(e)}var i=e.id,l=e.className,s=e.onPlay,u=e.onPaused,c=e.onEnd,d=e.onReady,f=(0,a.useRef)(void 0);return(0,a.useImperativeHandle)(t,(function(){return{pause:function(){var e;null!==(e=f.current)&&void 0!==e&&e.pauseVideo()},play:function(e){var t;void 0!==e&&null!==(t=f.current)&&void 0!==t&&t.seekTo(e,!0),null!==(e=f.current)&&void 0!==e&&e.playVideo()},getCurrentTime:function(){return de(void 0,void 0,Promise,(function(){var e;return fe(this,(function(t){switch(t.label){case 0:return[4,null===(e=f.current)||void 0===e?void 0:e.getCurrentTime()];case 1:return[2,t.sent()||-1]}}))}))},getDuration:function(){return de(void 0,void 0,Promise,(function(){var e;return fe(this,(function(t){switch(t.label){case 0:return[4,null===(e=f.current)||void 0===e?void 0:e.getDuration()];case 1:return[2,t.sent()||-1]}}))}))}}})),(0,a.useEffect)((function(){return f.current=oe()(i,function(e){return{width:768,height:432,videoId:e,playerVars:{cc_load_policy:1,modestbranding:1}}}(i)),f.current.on("stateChange",n),f.current.on("ready",r),function(){var e;null!==(e=f.current)&&void 0!==e&&e.destroy()}}),[]),o().createElement("div",{className:l},o().createElement("div",{id:i}))})),be=(0,a.forwardRef)((function(e,t){function n(){E.current&&Object.values(E.current).forEach((function(e){e.pause()}))}function r(e){return function(e,t,n,r){return new(n=n||Promise)((function(a,o){function i(e){try{s(r.next(e))}catch(e){o(e)}}function l(e){try{s(r.throw(e))}catch(e){o(e)}}function s(e){var t;e.done?a(e.value):((t=e.value)instanceof n?t:new n((function(e){e(t)}))).then(i,l)}s((r=r.apply(e,t||[])).next())}))}(void 0,void 0,void 0,(function(){var t,r,a,o,i,l,s;return function(e,t){var n,r,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=0<(a=o.trys).length&&a[a.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}}(this,(function(c){switch(c.label){case 0:return null!=e&&e.preventDefault(),n(),t=(w.current+1)%u.length,m(t),w.current=t,I(),u[t].type!==$.YouTubeVideo?[3,3]:(r=null===(s=E.current)||void 0===s?void 0:s[t],s=(o=Math).ceil,[4,r.getDuration()]);case 1:return a=s.apply(o,[c.sent()]),l=(i=Math).ceil,[4,r.getCurrentTime()];case 2:((i=l.apply(i,[c.sent()]))<=0||a<=i)&&w.current===t&&r.play(0),c.label=3;case 3:return[2]}}))}))}function i(e){null!=e&&e.preventDefault(),n(),e=w.current-1<0?u.length-1:w.current-1,m(e),w.current=e,I()}function s(){b.current&&clearTimeout(b.current)}var u=e.items,c=e.delay,d=e.translate,f=(p=(0,a.useState)(0))[0],m=p[1],p=(e=(0,a.useState)(!1))[0],v=e[1],y=(0,a.useRef)(!1),h=(e=(0,a.useState)(!1))[0],g=e[1],b=(0,a.useRef)(void 0),w=(0,a.useRef)(f),E=(0,a.useRef)({}),I=function(){s(),h||y.current||(b.current=setTimeout((function(){r()}),c))};return(0,a.useEffect)((function(){var e;return I(),null!==(e=document.getElementById(ie))&&void 0!==e&&e.addEventListener("click",n),function(){var e;s(),null!==(e=document.getElementById(ie))&&void 0!==e&&e.removeEventListener("click",n)}}),[]),(0,a.useImperativeHandle)(t,(function(){return{start:I,stop:s,next:r,back:i}})),t=function(e){e.stopPropagation()},o().createElement("div",{"data-testid":"carousel",onFocus:function(){v(!0),y.current=!0,s()},onBlur:function(){v(!1),y.current=!1,I()},onMouseEnter:function(){v(!0),y.current=!0,s()},onMouseLeave:function(){v(!1),y.current=!1,I()}},1<u.length&&o().createElement(o().Fragment,null,o().createElement(l.Button,{className:re()("carousel-controls","carousel-controls-left",{"carousel-controls-visible":p}),onClick:i,onBlur:t,"aria-label":d(se)},o().createElement("span",{className:"icon-carousel-left"})),o().createElement(l.Button,{className:re()("carousel-controls","carousel-controls-right",{"carousel-controls-visible":p}),onClick:r,onBlur:t,"aria-label":d(ue)},o().createElement("span",{className:"icon-carousel-right"}))),u.map((function(e,t){switch(e.type){case $.Image:case $.Place:return o().createElement(ae.Thumbnail2d,{key:e.assetId,type:e.type===$.Image?ae.ThumbnailTypes.assetThumbnail:ae.ThumbnailTypes.gameThumbnail,size:ae.ThumbnailUniverseThumbnailSize.width768,targetId:e.assetId,altName:e.altText,containerClass:re()("carousel-item",{"carousel-item-active":t===f,"carousel-item-active-out":t===(f-1<0?u.length-1:f-1)||t===(f+1)%u.length})});case $.YouTubeVideo:return o().createElement(ge,{ref:function(e){e&&(E.current[t]=e)},id:e.videoHash,key:e.videoHash,className:re()("carousel-item","carousel-video",{"carousel-item-active":t===f,"carousel-item-active-out":t===(f-1<0?u.length-1:f-1)||t===(f+1)%u.length}),onPlay:function(){s(),g(!0)},onPaused:function(){I(),g(!1)},onEnd:function(){r(),g(!1)},onReady:function(){var e;0===t&&w.current===t&&null!==(e=E.current)&&void 0!==e&&e[t].play(0)}});default:return null}})))})),we=u.dataStores.gamesDataStore,Ee={},Ie=function(e){return function(e,t,n,r){return new(n=n||Promise)((function(a,o){function i(e){try{s(r.next(e))}catch(e){o(e)}}function l(e){try{s(r.throw(e))}catch(e){o(e)}}function s(e){var t;e.done?a(e.value):((t=e.value)instanceof n?t:new n((function(e){e(t)}))).then(i,l)}s((r=r.apply(e,t||[])).next())}))}(void 0,void 0,Promise,(function(){var t;return function(e,t){var n,r,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=0<(a=o.trys).length&&a[a.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}}(this,(function(n){switch(n.label){case 0:return Ee[e]?[2,Ee[e]]:[4,we.getUniverseMedia(e)];case 1:return t=(void 0===(t=n.sent().data.data)?[]:t).filter((function(e){return e.approved})).map((function(e){switch(e.assetType){case $.Image:return{type:e.assetType,assetId:e.imageId,altText:e.altText};case $.YouTubeVideo:return{type:e.assetType,videoHash:e.videoHash};default:return{type:$.Unknown,assetId:0}}})).filter((function(e){return e.type!==$.Unknown})),[2,Ee[e]=t]}}))}))},Se=(0,s.withTranslations)((function(e){var t=e.translate,n=e.placeId,r=e.universeId,i=e.delay,l=(0,a.useState)(void 0),s=(e=l[0],l[1]);return(0,a.useEffect)((function(){!function(e,t,n,r){new(n=n||Promise)((function(a,o){function i(e){try{s(r.next(e))}catch(e){o(e)}}function l(e){try{s(r.throw(e))}catch(e){o(e)}}function s(e){var t;e.done?a(e.value):((t=e.value)instanceof n?t:new n((function(e){e(t)}))).then(i,l)}s((r=r.apply(e,t||[])).next())}))}(void 0,void 0,void 0,(function(){var e;return function(e,t){var n,r,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=0<(a=o.trys).length&&a[a.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}}(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,Ie(r)];case 1:return e=t.sent(),s(e),[3,3];case 2:return t.sent(),s([]),[3,3];case 3:return[2]}}))}))}),[r]),void 0===e?o().createElement("div",{className:"shimmer","data-testid":"loading"}):0===e.length?o().createElement(be,{translate:t,delay:i,items:[{type:$.Place,assetId:parseInt(n,10)}]}):o().createElement(be,{translate:t,delay:i,items:e})}),V),Pe="game-detail-meta-data",xe=function(){var e,t=(null===(e=document.getElementById(Pe))||void 0===e?void 0:e.dataset)||{};return Object.keys(t).reduce((function(e,n){var r=t[n].toLowerCase();return e[n]="true"===r||"false"!==r&&t[n],e}),{})},Ne=function(e,t){for(var n=0,r=t.length,a=e.length;n<r;n++,a++)e[a]=t[n];return e},Te=(new F.Intl).getDateTimeFormatter(),ke=(V=r.urlService.parseQueryString,r.abbreviateNumber.getAbbreviatedValue),Ce=r.numberFormat.getNumberFormat,De={capitalize:ve,humanizeCamelCase:ye,parseEventParams:he,getInGameFriends:pe,getVotePercentage:function(e,t){var n=0;if(!Number.isNaN(e)&&!Number.isNaN(t)){if(0===e&&0===t)return;n=0===e&&0!==t?0:0!==e&&0===t||100<(n=Math.floor(e/(e+t)*100))?100:n}return n+"%"},getGearIconName:me,getNumberFormat:Ce,getAbbreviatedValue:ke,dateTimeFormatter:Te,parseQueryString:V,composeQueryString:function(e){return(e=r.urlService.composeQueryString(e))?"?"+e:""},calculateImpressedIndexes:function(e,t){if(void 0===e)return Array.from(new Array(t[1]-t[0]+1),(function(e,n){return n+t[0]}));var n=t[0]<e[0]?[t[0],e[0]]:void 0,r=t[1]>e[1]?[e[1],t[1]]:void 0,a=n?new Array(n[1]-n[0]).fill(0).map((function(e,t){return t+n[0]})):[];e=r?new Array(r[1]-r[0]).fill(0).map((function(e,t){return t+r[0]+1})):[];return Ne(Ne([],a),e)},splitArray:function(e,t){if(0===e.length||0===t)return[e];var n=Math.ceil(e.length/t);return new Array(n).fill(0).map((function(n,r){return e.slice(r*t,(r+1)*t)}))}},Re=function(){return(Re=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Ge=(V=u.eventStreamService.eventTypes).pageLoad,Le=V.formInteraction,Oe="gameImpressions",Ae="gameDetailReferral",Ue="gameDetailPage",Ve=function(e){return e=function(e,t){var n={};for(a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]]);return n}(e,[]),[{name:Oe,type:Oe,context:Le},he(Re({},e))]},Me=function(e){return void 0===e&&(e={}),[{name:Ae,type:Ae,context:Ge},he(Re({},e))]},Fe=function(){return(Fe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Be="eventTracker",je=function(e){try{var t=JSON.parse(window.sessionStorage.getItem(Be)||"{}");t=Fe(Fe({},t),e);return window.sessionStorage.setItem(Be,JSON.stringify(t)),!0}catch(e){return function(e){e instanceof SyntaxError&&window.sessionStorage.removeItem(Be)}(e),!1}},_e=De.parseQueryString,ze=De.composeQueryString,He=F.PlayButton.usePlayabilityStatus,qe=F.PlayButton.DefaultPlayButton;function Ye(){var e=void 0===(l=(i=xe()||{}).universeId)?"":l,t=void 0===(r=i.rootPlaceId)?"":r,n=void 0===(s=i.privateServerLinkCode)?"":s,r=void 0===(l=i.gameInstanceId)?"":l,i=(s=He(e))[0],l=s[1],s=function(e,t,n,r,o){void 0===r&&(r=window.location),void 0===o&&(o=window.history);var i=(0,a.useState)(_e(r.search)),l=i[0],s=i[1];return(0,a.useEffect)((function(){var a,i,l;a=_e(r.search),i=t.reduce((function(e,t){return void 0===a[t]&&null===a[t]||(e[t]=a[t]),e}),{}),!(l=n.reduce((function(e,t){return void 0===a[t]&&null===a[t]||(e[t]=a[t]),e}),{})).launchData&&l.placeId&&delete l.placeId,s(i),je(i),void 0!==o.replace&&o.replace(""+r.pathname+ze(l)),void 0!==o.replaceState&&o.replaceState(void 0,"",""+r.pathname+r.hash+ze(l)),u.eventStreamService.sendEvent.apply(u.eventStreamService,e(i))}),[]),l}(Me,["isAd","page","placeId","universeId","sortPos","position","gameSetTypeId","gameSetTargetId","homePageSessionInfo","gameSearchSessionInfo","numberOfLoadedTiles"],["privateServerLinkCode","placeId","launchData","gameInstanceId"]);return o().createElement(qe,{placeId:t,rootPlaceId:t,universeId:e,privateServerLinkCode:n,gameInstanceId:r,refetchPlayabilityStatus:l,playabilityStatus:i,eventProperties:{gameSearchSessionInfo:s.gameSearchSessionInfo,homePageSessionInfo:s.homePageSessionInfo,page:s.page,sortPos:s.sortPos,gameSetTypeId:s.gameSetTypeId}})}function Qe(e,t){return t={id:e,RedirectUrl:encodeURIComponent(u.entityUrl.game.getRelativePath(e)+"/"+r.seoName.formatSeoName(t))},r.urlService.getUrlWithQueries("/abusereport/asset",t)}function Je(e){var t=e.placeId,n=e.universeId,i=e.translate,s=(0,a.useState)(void 0),u=s[0],c=s[1],d=(e=(N=(0,a.useState)(void 0))[0],N[1]),N=(s=(0,a.useState)(void 0))[0],T=s[1];return(0,a.useEffect)((function(){Ke(void 0,void 0,void 0,(function(){var e;return et(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,q(n)];case 1:return e=t.sent(),c(e),[3,3];case 2:return e=t.sent(),console.error(e),[3,3];case 3:return[2]}}))})),Ke(void 0,void 0,void 0,(function(){var e;return et(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,Q(n)];case 1:return e=t.sent(),d(e.universeStatus),T(e.optInStatus),[3,3];case 2:return e=t.sent(),console.error(e),d(!1),T(!1),[3,3];case 3:return[2]}}))}))}),[]),void 0===u||void 0===e||void 0===N?o().createElement(l.Loading,null):(s=[{label:i(m),value:Ce(u.playing)},{label:i(p),value:Ce(u.favoritedCount)},{label:i(v),value:ke(u.visits)},{label:i(y),value:Te.getShortDate(u.created)},{label:i(h),value:Te.getShortDate(u.updated)},{label:i(g),value:Ce(u.maxPlayers)},{label:i(b),value:u.genre},{label:i(w),value:o().createElement(Ze,{genre:u.genre,isGenreEnforced:u.isGenreEnforced,isAllGenre:u.isAllGenre,allowedGearCategories:u.allowedGearCategories})}],e={label:i(S),value:i(e?P:x)},N&&s.splice(Xe.voiceLabelIndex,0,e),o().createElement("div",{className:"game-description-container"},o().createElement("h2",null,i(f)),o().createElement("pre",{className:"text game-description"},null===(e=u.description)||void 0===e?void 0:e.split(r.regex.url).map((function(e,t){return-1<e.search(r.regex.url)?o().createElement("a",{key:t,"data-testid":"game-description-link",className:"text-link",href:e},e):e}))),o().createElement("ul",{className:"border-top border-bottom game-stat-container"},s.map((function(e){return o().createElement("li",{key:e.label,className:"game-stat"},o().createElement("p",{className:"text-label text-overflow font-caption-header"},e.label),o().createElement("p",{className:"text-lead font-caption-body"},e.value))}))),o().createElement("div",{className:"game-description-footer"},u.copyingAllowed&&o().createElement("p",{className:"text-pastname"},i(I)),o().createElement(l.Link,{className:"text-report",url:Qe(t,u.name)},i(E)))))}var We=function(e,t,n){return void 0===n&&(n={}),r.urlService.getUrlWithQueries(u.entityUrl.game.getRelativePath(e)+"/"+r.seoName.formatSeoName(t),n)},Xe={maxTilesPerCarouselPage:6,voiceLabelIndex:3},$e=(V={maxTilesInGameImpressionsEvent:25,numberOfInGameIcons:3,numberOfInGameNames:1,numberOfGameTilesPerLoad:60,numberOfGamePassesPerLoad:50,keyBoardEventCode:{enter:"Enter"}},Xe),Ze=(0,s.withTranslations)((function(e){var t=e.genre,n=e.isGenreEnforced,r=e.isAllGenre,a=e.allowedGearCategories,i=e.translate;return o().createElement(o().Fragment,null,0<a.length&&n&&r?o().createElement(l.Tooltip,{placement:"bottom",id:i(T),content:i(T)},o().createElement("span",{className:"icon-allgears"})):0<a.length&&n?o().createElement(l.Tooltip,{placement:"bottom",id:i(k,{GearName:ye(t)}),content:i(k,{GearName:ye(t)})},o().createElement("span",{className:"icon-partialgears"})):0===a.length?o().createElement(l.Tooltip,{placement:"bottom",id:i(C),content:i(C)},o().createElement("span",{className:"icon-nogear"})):void 0,a.map((function(e){return o().createElement(l.Tooltip,{key:e,placement:"bottom",id:ye(e),content:ye(e)},o().createElement("span",{className:"icon-"+me(e)}))})))}),U),Ke=function(e,t,n,r){return new(n=n||Promise)((function(a,o){function i(e){try{s(r.next(e))}catch(e){o(e)}}function l(e){try{s(r.throw(e))}catch(e){o(e)}}function s(e){var t;e.done?a(e.value):((t=e.value)instanceof n?t:new n((function(e){e(t)}))).then(i,l)}s((r=r.apply(e,t||[])).next())}))},et=function(e,t){var n,r,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=0<(a=o.trys).length&&a[a.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},tt=(U=PropTypes,{name:"joinGameInPlacesList",ctx:"click"}),nt={ctx:"placesListInHomePage"};function rt(e){var t=e.game,n=e.translate,r=t.universeId,a=t.name;e=t.referralUrl,t=t.isPlayable,r=o().createElement(ae.Thumbnail2d,{type:ae.ThumbnailTypes.gameIcon,size:ae.DefaultThumbnailSize,targetId:r,imgClassName:"game-card-thumb",format:ae.ThumbnailFormat.jpeg});return o().createElement("div",{className:"border-bottom player-interaction-container"},o().createElement("span",{className:"cursor-pointer game-icon"},o().createElement(l.Link,{url:e,className:"game-card-link"},r)),o().createElement("span",{className:"game-info-container"},o().createElement(l.Link,{url:e,className:"game-name"},a),!t&&o().createElement(l.Link,{url:e,className:"btn-control-sm game-link"},n("Action.ViewDetails"))))}rt.propTypes={game:(U=n.n(U))().shape({universeId:U().number,placeId:U().number,name:U().string,playerCount:U().number,isShowSponsoredLabel:U().bool,nativeAdData:U().string,imageUrl:U().string,referralUrl:U().string,isPlayable:U().bool}).isRequired,translate:U().func.isRequired};var at=rt;function ot(e){var t=e.playerId;e=e.altName;return o().createElement("div",{className:"avatar-card-link"},o().createElement(ae.Thumbnail2d,{type:ae.ThumbnailTypes.avatarHeadshot,size:ae.ThumbnailAvatarHeadshotSize.size48,targetId:t,imgClassName:"avatar-card-image",format:ae.ThumbnailFormat.png,altName:e}))}ot.defaultProps={altName:""},ot.propTypes={playerId:U().number.isRequired,altName:U().string};var it=ot;function lt(e){var t=e.playerData,n=e.dismissModal,r=e.isPlayable,a=e.translate,i=(e=t.presence).rootPlaceId,s=e.placeId,c=e.gameId,d=t.id;t=t.nameForDisplay;return o().createElement("div",{className:"border-bottom player-info"},o().createElement("span",{className:"player-name"},t),o().createElement(l.Button,{className:"cursor-pointer btn-primary-sm player-action",onClick:function(e){var t={rootPlaceId:i,placeId:s},r=u.playGameService.buildPlayGameProperties(i,s,c,d),a=tt,o=nt;o={eventName:a.name,ctx:a.ctx,properties:t,gamePlayIntentEventCtx:o.ctx};u.playGameService.launchGame(r,o),n(e)},isDisabled:!r},a("Action.JoinGame")))}lt.propTypes={playerData:U().shape({presence:U().shape({rootPlaceId:U().number,placeId:U().number,gameId:U().string}),id:U().number,nameForDisplay:U().string}).isRequired,dismissModal:U().func.isRequired,isPlayable:U().bool.isRequired,translate:U().func.isRequired};var st=lt;function ut(e){var t=e.friendsData,n=e.friendsInGame,r=e.dismissModal,a=e.isPlayable,i=e.translate,l={};return t.forEach((function(e){l[e.id]=e})),o().createElement("div",{className:"interaction-container"},o().createElement("ul",{className:"interaction-list"},n.map((function(e,t){var n=e+t,s=l[e];t=s.id,e=s.nameForDisplay;return o().createElement("li",{key:n,className:"interaction-item","aria-hidden":"true"},o().createElement("span",{className:"avatar avatar-headshot avatar-headshot-sm player-avatar"},o().createElement(it,{playerId:t,altName:e})),o().createElement(st,{playerData:s,dismissModal:r,isPlayable:a,translate:i}))}))))}ut.propTypes={friendsData:U().arrayOf(U().shape({presense:U().shape({rootPlaceId:U().number,placeId:U().number,gameId:U().string}),id:U().number,nameForDisplay:U().string})).isRequired,friendsInGame:U().arrayOf(U().number).isRequired,dismissModal:U().func.isRequired,isPlayable:U().bool.isRequired,translate:U().func.isRequired};var ct=ut;function dt(e){var t=e.friendsData,n=e.friendsInGame,r=e.game,a=e.dismissModal,i=e.translate;e=i("Label.ContextMenuTitle");return o().createElement("div",{"data-testid":"game-players-player-interaction-modal"},o().createElement(l.Modal.Header,{title:e,onClose:a}),o().createElement(at,{game:r,translate:i}),o().createElement(ct,{friendsData:t,friendsInGame:n,dismissModal:a,isPlayable:r.isPlayable,translate:i}))}function ft(e){var t=e.id,n=e.children,r=e.gameData;e=e.buildEventProperties;return o().createElement(l.Link,{url:We(r.placeId,r.name,e(r,t)),className:"game-card-link",id:r.universeId.toString()},o().createElement(ae.Thumbnail2d,{type:ae.ThumbnailTypes.gameIcon,size:ae.ThumbnailGameIconSize.size150,targetId:r.universeId,containerClass:"game-card-thumb-container",format:ae.ThumbnailFormat.jpeg,altName:r.name}),o().createElement("div",{className:"game-card-name game-name-title",title:r.name},r.name),n)}function mt(e){var t=e.totalDownVotes,n=e.totalUpVotes;e=e.playerCount,t=De.getVotePercentage(n,t),e=De.getAbbreviatedValue(e);return o().createElement("div",{className:"game-card-info","data-testid":"game-tile-stats"},o().createElement("span",{className:"info-label icon-votes-gray"}),t?o().createElement("span",{className:"info-label vote-percentage-label"},t):o().createElement("span",{className:"info-label no-vote"}),o().createElement("span",{className:"info-label icon-playing-counts-gray"}),o().createElement("span",{className:"info-label playing-counts-label"},e))}function pt(e){var t=e.friendData,n=e.gameData,r=e.translate,i=(0,a.useState)(!1),l=(e=i[0],i[1]);if(0===t.length)throw new Error("friendData should not be empty");return o().createElement("div",{className:"game-card-friend-info game-card-info","data-testid":"game-tile-stats-friends"},o().createElement("div",{className:"info-avatar",style:{width:22*(t.slice(0,gt).length-1)+32+"px"}},t.slice(0,gt).map((function(e){return o().createElement("div",{className:"avatar-card",role:"button",tabIndex:0,key:e.displayName,onClick:function(e){e.stopPropagation(),e.preventDefault(),l(!0)},onKeyDown:function(e){e.code===ht.enter&&(e.stopPropagation(),e.preventDefault(),l(!0))}},o().createElement(ae.Thumbnail2d,{type:ae.ThumbnailTypes.avatarHeadshot,size:ae.ThumbnailAvatarHeadshotSize.size48,targetId:e.id,containerClass:"avatar avatar-headshot avatar-headshot-xs",imgClassName:"avatar-card-image",format:ae.ThumbnailFormat.png,altName:e.displayName}))}))),r&&o().createElement("span",{className:"info-label text-overflow","data-testid":"game-tile-stats-info-label"},t.length>bt?r(c,{username:t[0].displayName,count:t.length-bt}):r(d,{user:t[0].displayName})),o().createElement(wt,{friendsDataInGame:t,game:n,show:e,onHide:function(e){e.stopPropagation(),e.preventDefault(),l(!1)}}))}dt.propTypes={friendsData:U().arrayOf(U().shape({presense:U().shape({rootPlaceId:U().number,placeId:U().number,gameId:U().string}),id:U().number,nameForDisplay:U().string})).isRequired,friendsInGame:U().arrayOf(U().number).isRequired,game:U().shape({universeId:U().number,placeId:U().number,name:U().string,playerCount:U().number,isShowSponsoredLabel:U().bool,nativeAdData:U().string,imageUrl:U().string,referralUrl:U().string,isPlayable:U().bool}).isRequired,dismissModal:U().func.isRequired,translate:U().func.isRequired};var vt=dt,yt=(U={common:["Common.GameSorts"],feature:"Feature.PlacesList"},function(){return(yt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)}),ht=V.keyBoardEventCode,gt=V.numberOfInGameIcons,bt=V.numberOfInGameNames;pt.defaultProps={translate:void 0};var wt=(0,s.withTranslations)((function(e){var t=e.show,n=e.onHide,r=e.friendsDataInGame,a=e.game;e=e.translate;return o().createElement(l.Modal,{show:t,onHide:n,size:"lg"},o().createElement(vt,{friendsData:r.map((function(e){return yt(yt({},e),{nameForDisplay:e.displayName})})),friendsInGame:r.map((function(e){return e.id})),game:a,dismissModal:n,translate:e}))}),U),Et=(0,a.forwardRef)((function(e,t){var n=e.id,r=e.buildEventProperties,i=e.gameData,l=void 0===(e=e.friendData)?[]:e,s=(e=(0,a.useState)())[0],u=e[1],c=(0,a.useMemo)((function(){return pe(l,i.universeId)}),[l,i.universeId]);return(0,a.useEffect)((function(){void 0===s&&0<c.length&&function(e,t,n,r){new(n=n||Promise)((function(a,o){function i(e){try{s(r.next(e))}catch(e){o(e)}}function l(e){try{s(r.throw(e))}catch(e){o(e)}}function s(e){var t;e.done?a(e.value):((t=e.value)instanceof n?t:new n((function(e){e(t)}))).then(i,l)}s((r=r.apply(e,t||[])).next())}))}(void 0,void 0,void 0,(function(){var e;return function(e,t){var n,r,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=0<(a=o.trys).length&&a[a.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}}(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,J(i.placeId.toString())];case 1:return e=t.sent(),u(e),[3,3];case 2:return e=t.sent(),console.error(e),[3,3];case 3:return[2]}}))}))}),[c,s]),o().createElement("div",{ref:t,className:"grid-item-container game-card-container","data-testid":"game-tile"},o().createElement(ft,{id:n,buildEventProperties:r,gameData:i},0<c.length&&s?o().createElement(pt,{friendData:c,gameData:s}):o().createElement(mt,{totalUpVotes:i.totalUpVotes,totalDownVotes:i.totalDownVotes,playerCount:i.playerCount})))}));Et.displayName="GameTile",(U=(0,a.forwardRef)((function(e,t){var n=e.gameData,r=e.buildEventProperties,a=e.translate,i=e.friendData,l=e.tileRef;return o().createElement("div",{"data-testid":"game-carousel",ref:t,className:"game-carousel"},n.map((function(e,t){return o().createElement(Et,{ref:l,key:t,id:t,gameData:e,translate:a,buildEventProperties:r,friendData:i})})))}))).displayName="GameCarousel";var It=U,St=function(){return(St=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Pt=function(e,t,n,r){function o(){var n,a=[],o=!!(i=e.current)&&function(e){e=(t=e.getBoundingClientRect()).top;var t=t.height;return 0<e+t/2&&window.innerHeight>e+t/2}(i),i=function(e,t){if(e&&t){var n=e.clientWidth;e=e.scrollLeft,t=function(e){var t=(n=window.getComputedStyle(e)).marginLeft,n=n.marginRight;return e.getBoundingClientRect().width+(parseInt(t,10)||0)+(parseInt(n,10)||0)}(t);return[Math.round(e/t),Math.round((e+n)/t)-1]}}(e.current,t.current);o&&i&&(a=De.calculateImpressedIndexes(s.current,i)),0!==a.length&&l.current&&(n=l.current,i=o=a.filter((function(e){return e<n.length})),void 0===s.current?s.current=[i[0],i[i.length-1]]:(a=(s.current[0]<i[0]?s.current:i)[0],i=s.current[1]>i[i.length-1]?s.current[1]:i[i.length-1],s.current=[a,i]),o=Ve(St({rootPlaceIds:o.map((function(e){return n[e].placeId})),universeIds:o.map((function(e){return n[e].universeId})),absPositions:o},r)),u.eventStreamService.sendEvent.apply(u.eventStreamService,o))}function i(){f(),window.removeEventListener("scroll",d),window.removeEventListener("resize",d)}var l=(0,a.useRef)(n),s=(0,a.useRef)(void 0),c=function(e,t){var n;return void 0===t&&(t=300),[function(){for(var r=[],a=0;a<arguments.length;a++)r[a]=arguments[a];clearTimeout(n),n=setTimeout((function(){e.apply(void 0,r)}),t)},function(){clearTimeout(n)}]}((function(){o()})),d=c[0],f=c[1];(0,a.useEffect)((function(){return window.addEventListener("scroll",d),window.addEventListener("resize",d),i}),[]),(0,a.useEffect)((function(){var t=e.current;return null!=t&&t.addEventListener("scroll",d),function(){null!=t&&t.removeEventListener("scroll",d)}}),[e,d]),(0,a.useEffect)((function(){l.current=n,o()}),[n])},xt=(U={common:[],feature:"Feature.GameDetails"},(0,s.withTranslations)((function(e){var t,n=e.translate,r=(0,a.useRef)(null),i=(0,a.useRef)(null),s=(t=(0,a.useState)([]))[0],u=t[1],c=void 0===(e=(xe()||{}).universeId)?"":e,d=(e=(t=(0,a.useState)(!1))[0],t[1]);return Pt(r,i,s,{sortPos:0,page:Ue}),(0,a.useEffect)((function(){!function(e,t,n,r){new(n=n||Promise)((function(a,o){function i(e){try{s(r.next(e))}catch(e){o(e)}}function l(e){try{s(r.throw(e))}catch(e){o(e)}}function s(e){var t;e.done?a(e.value):((t=e.value)instanceof n?t:new n((function(e){e(t)}))).then(i,l)}s((r=r.apply(e,t||[])).next())}))}(void 0,void 0,void 0,(function(){var e;return function(e,t){var n,r,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=0<(a=o.trys).length&&a[a.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}}(this,(function(t){switch(t.label){case 0:d(!0),t.label=1;case 1:return t.trys.push([1,3,,4]),[4,Y(c,$e.maxTilesPerCarouselPage)];case 2:return e=t.sent().games,u(e),[3,4];case 3:return e=t.sent(),console.error(e),[3,4];case 4:return d(!1),[2]}}))}))}),[]),o().createElement(o().Fragment,null,e?o().createElement(l.Loading,null):null,0<s.length&&o().createElement(o().Fragment,null,o().createElement("h2",null,n(N)),o().createElement(It,{ref:r,tileRef:i,gameData:s,buildEventProperties:function(e,t){return{placeId:e.placeId,universeId:e.universeId,isAd:e.isSponsored,nativeAdData:e.nativeAdData,position:t,numberOfLoadedTiles:(s||[]).length,page:Ue}},translate:n})))}),U)),Nt=F.SocialLinksJumbotron.SocialLinkJumbotronType,Tt=(0,s.withTranslations)((function(e){var t=e.translate,n=(e=void 0===(e=(n=xe()||{}).universeId)?"":e,void 0===(n=n.placeId)?"":n);return o().createElement(o().Fragment,null,o().createElement(Je,{universeId:e,placeId:n,translate:t}),o().createElement(F.SocialLinksJumbotron,{type:Nt.Game,targetId:e}),o().createElement(F.GameBadgesList,{universeId:e}),o().createElement(xt,null))}),{common:["CommonUI.Controls"],feature:"Feature.GameDetails"}),kt=function(){return document.getElementById("game-details-play-button-container")},Ct=function(){return document.getElementById("game-details-about-tab-container")};(0,r.ready)((function(){le()&&(e=void 0===(l=(r=xe()).universeId)?"":l,t=void 0===(a=r.placeId)?"":a,(0,i.render)(o().createElement(Se,{universeId:e,placeId:t,delay:ce}),le())),kt()&&(0,i.render)(o().createElement(Ye,null),kt()),Ct()&&(0,i.render)(o().createElement(Tt,null),Ct());var e,t,n=xe(),r=void 0===(l=n.experienceInviteLinkId)?"":l,a=n.experienceInviteStatus,l=void 0===a?"":a;r&&(l===Z.INVITER_NOT_IN_EXPERIENCE||l===Z.EXPIRED)&&ee()&&(e=void 0===(a=(n=xe()).universeId)?"":a,t=void 0===(n=n.placeId)?"":n,(0,i.render)(o().createElement(te,{linkId:r,linkStatus:l,placeId:t,universeId:e}),ee()))}))}()}(),window.Roblox&&window.Roblox.BundleDetector&&window.Roblox.BundleDetector.bundleDetected("GameDetails");