(Roblox=Roblox||{}).Lang=Roblox.Lang||{},Roblox.Lang["Purchasing.PurchaseDialog"]={"Action.BackToShop":"Back to Shop","Action.BuyAccess":"Buy Access","Action.BuyNow":"Buy Now","Action.BuyRobux":"Buy Robux","Action.BuyRobuxAndItem":"Buy Robux and Item","Action.Cancel":"Cancel","Action.Configure":"Configure","Action.Continue":"Continue","Action.Customize":"Customize","Action.EquipMyAvatar":"Equip My Avatar","Action.GetNow":"Get Now","Action.GoToSecurity":"Go To Security","Action.GoToSettings":"Go to Settings","Action.NotNow":"Not Now","Action.Ok":"OK","Action.RentNow":"Rent Now","Action.ResendCode":"Resend Code","Action.Verify":"Verify","Heading.BuyItem":"Buy Item","Heading.ErrorOccured":"Error Occured","Heading.GetItem":"Get Item","Heading.InsufficientFunds":"Insufficient Funds","Heading.InsufficientRobux":"Insufficient Robux","Heading.PriceChanged":"Item Price Has Changed","Heading.PurchaseComplete":"Purchase Complete","Heading.PurchaseSucceeded":"Purchase Succeeded","Heading.RentItem":"Rent Item","Heading.TwoStepVerificationRequired":"Email Verification Required","Heading.TwoStepVerificationRequiredV2":"Email Verification Required","Heading.TwoStepVerificationRequiredV3":"2-Step Verification Required","Label.AgreeAndPay":"Agree and Pay","Label.CodeInputPlaceholder":"Enter 6-digit Code","Label.EnterEmailCode":"Enter the code we just sent you via email","Label.Free":"Free","Label.NeedHelpContactRobloxSupport":"Need help? Contact Roblox Support","Label.NeedHelpContactSupport":"Need help? Contact {supportLink}","Label.PurchasingTheItem":"Purchasing the item...","Label.RobloxSupport":"Roblox Support","Label.TwoStepVerification":"2-Step Verification","Label.WaitingForRobux":"Waiting for Robux to be granted...","Message.BalanceAfter":"Your balance after this transaction will be {robuxBalance}.","Message.InsufficientFunds":"You need {robux} more to purchase this item.","Message.InsufficientRobux":"{divTagStart}You need an additional {robuxNeeded}. Would you like to buy a {robuxPackageAmount} package?{divTagEnd}{lineBreak}{divTagStart}Your payment method will be charged. Roblox {aTagStart}Terms of Use{aTagEnd} apply.{divTagEnd}","Message.PriceChanged":"While you were shopping, the price of this item changed from {robuxBefore} to {robuxAfter}.","Message.PromptBuy":'Would you like to buy the {assetType} "{assetName}" from {seller} for {robux}?',"Message.PromptBuyAccess":'Would you like to buy access to the {assetType} "{assetName}" from {seller} for {robux}?',"Message.PromptGetFree":'Would you like to get the {assetType} "{assetName}" from {seller} for {freeTextStart}Free{freeTextEnd}?',"Message.PromptGetFreeAccess":'Would you like to get access to the {assetType} "{assetName}" from {seller} for {freeTextStart}Free{freeTextEnd}?',"Message.PromptRent":'Would you like to rent the {assetType} "{assetName}" from {seller} for {robux}?',"Message.PromptRentAccess":'Would you like to rent access to the {assetType} "{assetName}" from {seller} for {robux}?',"Message.PurchaseErrorOccured":"An error occurred with your purchase. Please try again later.","Message.PurchaseSucceeded":"Now you own {assetName}!","Message.PurchaseSucceededRobuxBalance":"Your balance is now {userRobuxBalance}.","Message.PurchaseSucceededToBalance":"{robuxLeft} has been credited to your balance.","Message.PurchasingUnavailable":"Purchasing is temporarily unavailable. Please try again later.","Message.SuccessfullyAcquired":"You have successfully acquired the {assetName} {assetType} from {seller} for {robux}.","Message.SuccessfullyAcquiredAccess":"You have successfully acquired access to the {assetName} {assetType} from {seller} for {robux}.","Message.SuccessfullyBought":"You have successfully bought the {assetName} {assetType} from {seller} for {robux}.","Message.SuccessfullyBoughtAccess":"You have successfully bought access to the {assetName} {assetType} from {seller} for {robux}.","Message.SuccessfullyRenewed":"You have successfully renewed the {assetName} {assetType} from {seller} for {robux}.","Message.SuccessfullyRenewedAccess":"You have successfully renewed access to the {assetName} {assetType} from {seller} for {robux}.","Message.SuccessfullyRented":"You have successfully rented the {assetName} {assetType} from {seller} for {robux}.","Message.SuccessfullyRentedAccess":"You have successfully rented access to the {assetName} {assetType} from {seller} for {robux}.","Message.TwoStepVerificationRequired":"2-Step Verification is required to make further transactions. Go to Settings > Security to complete 2-Step Verification.","Message.TwoStepVerificationRequiredv2":"2-Step Verification is required to make further transactions. Go to your Security page to enable and complete 2-Step Verification via email.","Message.TwoStepVerificationRequiredV3":"2-Step Verification is required to make further transactions. Go to your Security page to enable and complete 2-Step Verification via email.","Message.TwoStepVerificationRequiredV4":"2-Step Verification is required to make further transactions. Go to your Security page to enable and complete 2-Step Verification.","Response.CodeSent":"Code Sent","Response.InvalidCode":"Invalid code. Please try again.","Response.InvalidCodeTryAgain":"Invalid code. Please try again.","Response.SuccessfulVerification":"You have successfully verified!","Response.SuccessfulVerificationV2":"You have successfully verified! Please retry your previous action.","Response.VerificationError":"System error occurred during verification."},Roblox.Lang.PurchaseDialogResources=Roblox.Lang["Purchasing.PurchaseDialog"],(Roblox=Roblox||{}).Lang=Roblox.Lang||{},Roblox.Lang["Feature.PrivateServers"]={"Action.CreatePrivateServer":"Create Private Server","Action.CreateVipServer":"Create VIP Server","Action.Refresh":"Refresh","Description.RecurringSubscriptionRenewal":"This is a subscription-based feature. It will auto-renew once a month until you cancel the subscription.","Heading.ConfigurePrivateServer":"Configure Private Server","Heading.InvalidLink":"Invalid Link","Heading.PrivateServers":"Private Servers","Heading.VipServers":"VIP Servers","Label.Cancel":"Cancel","Label.ConfirmEnableFuturePayments":"Are you sure you want to enable future payments for your private version of {placeName} by {creatorName}?","Label.CreatePrivateServerFor":"Create a private server for {target}?","Label.CreatePrivateServerForFree":"Create a private server for free?","Label.CreateVipServerFor":"Create a VIP Server for {target}?","Label.FooterText":"Your balance after this transaction will be {robuxIcon}. This is a subscription-based feature. It will auto-renew once a month until you cancel the subscription.","Label.GameJoinPrivateErrorTitle":"Unable to join","Label.GameName":"Experience Name","Label.NoPrivateServers":"No Private Server Instances Found.","Label.NoVipServers":"No VIP Server Instances Found.","Label.PlayWithOthers":"Visit this experience with friends and other people you invite.","Label.Price":"Price: {price}","Label.PrivateServer":"Private Server","Label.PrivateServerJoinGamePrivateError":"You cannot join this private server because the experience is private.","Label.PrivateServersAbout":"Private servers let you visit this experience privately with friends or people you invite!","Label.Renew":"Renew","Label.RenewPrivateServer":"Renew Private Server","Label.SeeAllPrivateServers":"See all your private servers in the {serversLink} tab.","Label.SeeAllServers":"See all your VIP servers in the {serversLink} tab.","Label.ServerName":"Server Name","Label.Servers":"Servers","Label.StartRenewingPrice":"This VIP server will start renewing every month at {price} until you cancel.","Label.StartRenewingPrivateServerPrice":"This private server will start renewing every month at {price} until you cancel.","Label.VIPServerGameJoinErrorAcknowledgement":"OK","Label.VipServerJoinGamePrivateError":"You cannot join this VIP server because the game is private.","Label.VipServersAbout":"VIP servers let you play this game privately with friends, your clan, or people you invite!","Label.VipServersNotSupported":"This experience does not support {vipServersLink}.","Message.InvalidLink":"This VIP Server link is no longer valid.","Message.InvalidPrivateServerLink":"This private server link is no longer valid."},Roblox.Lang.PrivateServersResources=Roblox.Lang["Feature.PrivateServers"],(Roblox=Roblox||{}).Lang=Roblox.Lang||{},Roblox.Lang["Feature.Item"]={"Action.Add":"Add","Action.AddToGame":"Add To Experience","Action.AddToProfile":"Add to Profile","Action.Advertise":"Advertise","Action.Agree":"Agree","Action.Buy":"Buy","Action.Cancel":"Cancel","Action.Configure":"Configure","Action.Confirm":"Confirm","Action.Delete":"Delete from Inventory","Action.DisableBadge":"Disable Badge","Action.EditAvatar":"Edit Avatar","Action.EnableBadge":"Enable Badge","Action.Get":"Get","Action.GetPremium":"Get Premium","Action.Install":"Install","Action.Inventory":"Inventory","Action.No":"No","Action.Ok":"OK","Action.Remove":"Remove","Action.RemoveFromProfile":"Remove from Profile","Action.Rent":"Rent","Action.ReportItem":"Report Item","Action.Sell":"Sell","Action.SellNow":"Sell Now","Action.SponsorItem":"Sponsor This Item","Action.TakeOff":"Take Off","Action.TakeOffSale":"Take Off Sale","Action.TryInStudio":"Try in Studio","Action.TryOn":"Try On","Action.Upgrade":"Upgrade","Action.Wear":"Wear","Action.Yes":"Yes","Heading.IncludedItems":"Included Items","Heading.PromoteItem":"Promote Item","Label.AllowPlayersPlusEarn":"Allow visitors to use this gear inside your experience plus earn {affiliateSaleTotal} when it's purchased from your experience page.","Label.AssetGrantedModalAcceptText":"OK","Label.AssetGrantedModalMessage":"You just got this item courtesy of our sponsor.","Label.AssetGrantedModalTitle":"This item is now yours","Label.Attributes":"Attributes","Label.BestPrice":"Best Price","Label.BuildersClubExclusive":"Builders Club exclusive.","Label.By":"By {creator}","Label.CountdownTimerDayHourMinute":"Offsale in {numberOfDays} d {numberOfHours} h {numberOfMinutes} m","Label.DeleteFromInventoryConfirm":"Are you sure you want to permanently DELETE this item from your inventory?","Label.DeleteItem":"Delete Item","Label.Description":"Description","Label.DisableBadgeConfirm":"Are you sure you want to disable this Badge?","Label.DiscontinuedItem":"Discontinued item, resellable.","Label.EarnBadgeGameLink":"Earn this Badge in: {placeLink}","Label.EnableBadgeConfirm":"Are you sure you want to enable this Badge?","Label.ErrorOccurred":"Error occurred","Label.Free":"Free","Label.Genres":"Genres","Label.GetBuildersClub":"Only Builders Club members can re-sell collectible items. Get Builders Club today!","Label.GetPremiumMembership":"Only Premium members can re-sell collectible items. Get Premium today!","Label.GetPremiumSubscription":"Only Premium subscribers can re-sell collectible items. Get Premium today!","Label.InvalidPlace":"Invalid Place.","Label.InvalidProduct":"Invalid Product.","Label.ItemOwned":"Item Owned","Label.ItemOwnedAmount":"Item Owned ({amount})","Label.ItemRecentPrice":"{name}'s recent average price is {price}.","Label.MarketplaceFee":"Marketplace fee (at {percent}%)","Label.None":"None","Label.NotAvailable":"N/A","Label.OffsaleCountdownHourMinuteSecond":"Offsale in {numberOfHours} h {numberOfMinutes} m {numberOfSeconds} s","Label.PremiumDiscountOpportunityPrompt":"Get Premium and buy for {premiumDiscountedPrice}","Label.PremiumDiscountSavings":"You save {discountPercentage}% with Premium (original price: {originalPrice})","Label.PremiumExclusiveEligiblePrompt":"Available because you have Premium","Label.PremiumExclusiveIneligiblePrompt":"Available for Premium users only","Label.Price":"Price","Label.PriceIsInvalid":"Price is invalid","Label.PriceMinimumOne":"Price (minimum 1)","Label.PurchaseCompleted":"Purchase Completed","Label.Rarity":"Rarity","Label.ReadMore":"Read More","Label.RentingItem":"Renting Item","Label.Rthro":"Rthro","Label.SellConfirm":"Are you sure you want to sell {name} for {price}?","Label.SellYourCollectibleItem":"Sell Your Collectible Item","Label.SerializedLimitedRelease":"Serialized limited release, resellable.","Label.SerialNotAvailable":"Serial N/A","Label.SerialNumber":"Serial Number","Label.SerialNumberOfTotal":"Serial #{number} of {total}","Label.ShowLess":"Show Less","Label.Tags":"Tags","Label.TakeOffSale":"Take off Sale","Label.TakeOffSaleConfirm":"Are you sure you want to take the item off sale?","Label.ThirteenPlusOnly":"13+ Only.","Label.Type":"Type","Label.Updated":"Updated","Label.UpdatedBy":"(by {link})","Label.UseGamePassLink":"Use this Pass in: {placeLink}","Label.YouGet":"You get","Response.AddedToProfile":"Added to your profile","Response.AddedToYourAvater":"Added to your Avatar","Response.AlreadyHaveMaxItems":"You already have the maximum number of items on your experience!","Response.DisabledBadge":"Successfully disabled the badge","Response.EnabledBadge":"Successfully enabled the badge","Response.FailedToAddToProfile":"Failed to add to profile","Response.FailedToDeleteFromInventory":"Failed to delete item from inventory","Response.FailedToDisableBadge":"Failed to disable badge","Response.FailedToEnableBadge":"Failed to enable badge","Response.FailedToRemoveFromProfile":"Failed to remove from profile","Response.GearAddSuccess":"Added to your experience, {placeName}.","Response.GearAlreadyAdded":"You have already added this gear to {placeName}.","Response.RemovedFromInventory":"Successfully removed from your inventory","Response.RemovedFromProfile":"Removed from your profile","Response.RemovedFromYourAvater":"Removed from your Avatar"},Roblox.Lang.ItemResources=Roblox.Lang["Feature.Item"],void 0===Roblox&&(Roblox={}),void 0===Roblox.FormEvents&&(Roblox.FormEvents=function(){function e(e,o,t){Roblox.EventStream&&Roblox.EventStream.SendEvent(e,o,t)}return{SendValidationFailed:function(o,t,a,n){e("formValidation",o,{msg:n,input:a,field:t,vis:!0})},SendInteractionFocus:function(o,t){e("formInteraction",o,{aType:"focus",field:t})},SendInteractionOffFocus:function(o,t,a){var n={aType:"offFocus",field:t};a&&(n.input=a),e("formInteraction",o,n)},SendInteractionClick:function(o,t,a,n){var i={aType:"click",field:t};a&&(i.input=a),n&&(i=$.extend(i,n)),e("formInteraction",o,i)}}}()),$((function(){1==$(".game-play-buttons").data("autoplay")&&$("#MultiplayerVisitButton").trigger("click"),$(".VisitButtonPlay a").on("click",(function(){var e=$(this).attr("backup-url");e&&e.length>0&&setTimeout((function(){document.hasFocus&&document.hasFocus()&&(window.location=e)}),250)}))})),(Roblox=Roblox||{}).Voting=function(){var e=function(){var e,t,a=$(".voting-panel");0!==a.length&&($(".users-vote .upvote").unbind().click((function(){o($(this),!0)})),$(".users-vote .downvote").unbind().click((function(){o($(this),!1)})),e=parseInt(a.data("total-up-votes")),t=parseInt(a.data("total-down-votes")),i(e,t))},o=function(e,o){if($(".voting-panel").data("user-authenticated")){var a="/voting/vote?assetId="+$(".voting-panel").data("target-id")+"&vote=",n=$(".voting-panel").data("vote-url");n&&(a=n),e.hasClass("selected")||e.find("i").hasClass("selected")||e.find(".icon-like, .icon-dislike").hasClass("selected")?t(a,null):t(a,o)}else l("GuestUser")},t=function(e,o){$(".voting-panel .loading").show(),$.ajax({type:"POST",url:e+o,success:a,error:n})},a=function(e){var o=$(".icon-like").length;if($(".voting-panel .loading").hide(),e.Success){r(e.Model.UpVotes,e.Model.DownVotes);var t=$(".voting-panel .upvote"),a=$(".voting-panel .downvote"),n=$(".users-vote");o&&(t=$(".voting-panel .upvote .icon-like"),a=$(".voting-panel .downvote .icon-dislike")),null!==e.Model.UserVote?n.hasClass("has-voted")||n.addClass("has-voted"):n.removeClass("has-voted"),t.hasClass("selected")&&t.removeClass("selected"),a.hasClass("selected")&&a.removeClass("selected"),null!==e.Model.UserVote&&(e.Model.UserVote?t.addClass("selected"):a.addClass("selected")),i(e.Model.UpVotes,e.Model.DownVotes)}else l(e.ModalType)},n=function(){$(".voting-panel .loading").hide()},i=function(e,o,t){var a,n,i,r=t||$("#voting-section");isNaN(e)||isNaN(o)||((a=0===e?0:0===o?100:Math.floor(e/(e+o)*100))>100&&(a=100),i=(n=r.find(".vote-container")).find(".vote-background"),n.find(".vote-percentage").css("width",a+"%"),o>0?i.addClass("has-votes"):i.removeClass("has-votes"))},r=function(e,o){e=Roblox.NumberFormatting.abbreviatedFormat(e),o=Roblox.NumberFormatting.abbreviatedFormat(o),$(".voting-panel .total-upvotes-text").text(e),$(".voting-panel .total-downvotes-text").text(o),$(".voting-panel #vote-up-text").text(e),$(".voting-panel #vote-down-text").text(o),i(e,o)},l=function(e){e&&Roblox.Dialog.open(function(e){var o=Roblox.Lang.VotingPanelResources,t=Roblox.Intl&&o&&new Roblox.Intl,a=$("#voting-section"),n=a.data("accountPageUrl"),i=a.data("registerUrl"),r="<a href='"+n+"'>"+o["Label.AccountPageTitle"]+"</a>",l="<a href='"+i+"'>"+o["Label.LoginOrRegisterPageTitle"]+"</a>",s={EmailIsVerified:{titleText:o["Label.EmailVerifiedTitle"],bodyContent:t.f(o["Label.EmailVerifiedMessage"],{accountPageLink:r}),onAccept:function(){window.location.href=n},acceptColor:Roblox.Dialog.green,acceptText:o["Label.Accept"],declineText:o["Label.Decline"],allowHtmlContentInBody:!0},PlayGame:{titleText:o["Label.PlayGameTitle"],bodyContent:o["Label.PlayGameMessage"],showAccept:!1,declineText:o["Label.Ok"]},UseModel:{titleText:o["Label.UseModelTitle"],bodyContent:o["Label.UseModelMessage"],showAccept:!1,declineText:o["Label.Ok"]},InstallPlugin:{titleText:o["Label.InstallPluginTitle"],bodyContent:o["Label.InstallPluginMessage"],showAccept:!1,declineText:o["Label.Ok"]},BuyGamePass:{titleText:o["Label.BuyGamePassTitle"],bodyContent:o["Label.BuyGamePassMessage"],showAccept:!1,declineText:o["Label.Ok"]},FloodCheckThresholdMet:{titleText:o["Label.FloodCheckTitle"],bodyContent:o["Label.FloodCheckMessage"],showAccept:!1,declineText:o["Label.Ok"]},GuestUser:{titleText:o["Label.GuestUserTitle"],bodyContent:"<div>"+o["Label.YouMustLoginToVote"]+"</div><div>"+t.f(o["Label.GuestUserMessage"],{loginOrRegisterPageLink:l})+"</div>",onAccept:function(){window.location.href=i},acceptColor:Roblox.Dialog.green,acceptText:o["Label.Login"],declineText:o["Label.Decline"],allowHtmlContentInBody:!0},Error:{titleText:o["Label.UnknownProblemTitle"],bodyContent:o["Label.UnknownProblemMessage"],showAccept:!1,declineText:o["Label.Ok"]},AssetNotVoteable:{titleText:o["Label.AssetNotVoteableTitle"],bodyContent:o["Label.AssetNotVoteableMessage"],showAccept:!1,declineText:o["Label.Ok"]}};return s[e]||s.Error}(e))};return{Vote:t,Initialize:e,SetVotes:r,UpdateVoteBar:i,LoadVotingService:function(o,t){var a="/games/votingservice/"+t;$.ajax({url:a,success:function(t){o.replaceWith(t),$((function(){e()}))}})}}}(),$((function(){Roblox.Voting.Initialize()})),$((function(){$(".pagification .pagification-showall, .pagification .pagification-collapse").click((function(){$(this).parents(".pagification-body").toggleClass("collapsed")}))})),(Roblox=Roblox||{}).ItemPurchase=function(e,o,t){function a(e){for(var o=(e+="").split("."),t=o[0],a=o.length>1?"."+o[1]:"",n=/(\d+)(\d{3})/;n.test(t);)t=t.replace(n,"$1,$2");return t+a}function n(){window.location.href=Roblox.Endpoints.getAbsoluteUrl("/login/Default.aspx")+"?ReturnUrl="+encodeURIComponent(location.pathname+location.search)}function i(e){return e.toLowerCase()===w.toLowerCase()?w:e}function r(e,a){var n,i,r=$(e);if("true"===r.attr("data-modal-field-validation-required")&&(a=""),Roblox.Dialog.toggleProcessing(!0),!r.hasClass("btn-disabled-primary")){var c=r.attr("data-product-id"),u=parseInt(r.attr("data-expected-price")),p=r.attr("data-expected-currency"),f=r.attr("data-placeproductpromotion-id"),b=r.attr("data-expected-seller-id"),g=r.attr("data-userasset-id"),h="LibraryItem"==(Roblox.MetaDataValues&&Roblox.MetaDataValues.getPageName()||""),v=Roblox.EnvironmentUrls.passProductPurchasingApi+"/v1/products/"+c+"/purchase",x=Roblox.EnvironmentUrls.economyApi+"/v1/purchases/products/"+c;if(o)return o({productId:c,expectedPrice:u,expectedCurrency:p,expectedPromoId:f,expectedSellerId:b,userAssetId:g});n={expectedCurrency:parseInt(p),expectedPrice:parseInt(u),expectedSellerId:parseInt(b)},f&&(n.expectedPromoId=parseInt(f)),g&&(n.userAssetId=parseInt(g)),i=function(e){$.ajax({type:"POST",url:e,data:JSON.stringify(n),cache:!1,processData:!1,contentType:"application/json; charset=utf-8",success:function(e){if(500===e.statusCode)Roblox.Dialog.toggleProcessing(!1,a),void 0===e.showDivID&&(e.showDivID=e.showDivId),void 0===e.AssetID&&(e.AssetID=e.assetId),l(e);else{if(Roblox.Dialog.toggleProcessing(!1,a),h&&Roblox&&Roblox.EventStream&&Roblox.UrlParser){var o=function(e){if(!Roblox)return null;var o=Roblox.CurrentUser?Roblox.CurrentUser.userId:null,t=Roblox.UrlParser.getParametersAsObject();return{assetId:e,category:t.Category,creatorId:t.CreatorId,genre:t.GenreCsv,page:t.Page,position:t.Position,searchKeyword:t.SearchKeyword,sortAggregation:t.SortAggregation,sortType:t.SortType,userId:o,searchId:t.SearchId}}(e.assetId);Roblox.EventStream.SendEventWithTarget("LibraryAssetAcquired","Marketplace",o,Roblox.EventStream.TargetTypes.WWW)}t?function(){var e=$(".system-feedback .alert-success");e.length>0&&Roblox.BootstrapWidgets&&(Roblox.BootstrapWidgets.ToggleSystemMessage(e,100,1e3),setTimeout((function(){window.location.reload()}),1e3))}():s(e={AssetId:e.assetId,AssetIsWearable:e.assetIsWearable,AssetName:e.assetName,AssetType:e.assetType,AssetTypeDisplayName:e.assetTypeDisplayName,Currency:e.currency,IsMultiPrivateSale:e.isMultiPrivateSale,Price:e.price,ProductId:e.productId,Purchased:e.purchased,Reason:e.reason,SellerName:e.sellerName,TransactionVerb:e.transactionVerb})}},error:function(e){(Roblox.Dialog.toggleProcessing(!1,a),$.modal.close(".ProcessingView"),"Bad Request"===e.responseText)?Roblox.Dialog.open({titleText:d["Heading.ErrorOccured"],bodyContent:d["Message.PurchasingUnavailable"],imageUrl:m,acceptText:d["Action.Ok"],acceptColor:Roblox.Dialog.white,declineColor:Roblox.Dialog.none,dismissable:!0,allowHtmlContentInBody:!0}):l($.parseJSON(e.responseText))}})},$.ajax({type:"GET",url:Roblox.EnvironmentUrls.economyApi+"/v2/metadata/nextgen-purchase-status",success:function(e){e.isNextGenPurchasingEnabled&&"Game Pass"==r.attr("data-asset-type")?i(v):i(x)},error:function(){i(x)}})}}function l(e){var o,t;if("TransactionFailureView"===e.showDivID)Roblox.Dialog.open({titleText:e.title,bodyContent:e.errorMsg,imageUrl:m,acceptText:d["Action.Ok"],acceptColor:Roblox.Dialog.white,declineColor:Roblox.Dialog.none,dismissable:!0,allowHtmlContentInBody:!0});else if("InsufficientFundsView"===e.showDivID)o="<span class='icon-robux-16x16'></span><span class='text-robux'>"+Roblox.NumberFormatting.commas(e.shortfallPrice)+"</span>",Roblox.Dialog.open({titleText:d["Heading.InsufficientFunds"],bodyContent:c.f(d["Message.InsufficientFunds"],{robux:o}),declineText:d["Action.Cancel"],acceptText:d["Action.BuyRobux"],acceptColor:Roblox.Dialog.green,onAccept:function(){return window.location=Roblox.Endpoints.getAbsoluteUrl("/Upgrades/Robux.aspx")+"?ctx="+e.source,!1},imageUrl:g,allowHtmlContentInBody:!0,allowHtmlContentInFooter:!1,fieldValidationRequired:!0,dismissable:!0,xToCancel:!0});else if("PriceChangedView"===e.showDivID){t="targetSelector"in e?$(e.targetSelector):$(".PurchaseButton[data-item-id="+e.AssetID+"][data-expected-currency="+e.expectedCurrency+"][data-expected-price="+e.expectedPrice+"]");var a="<span class='icon-robux-gray-16x16'></span>"+e.expectedPrice,n="<span class='icon-robux-gray-16x16'></span>"+e.currentPrice,i="<span class='icon-robux-gray-16x16'></span>"+e.balanceAfterSale;Roblox.Dialog.open({titleText:d["Heading.PriceChanged"],bodyContent:c.f(d["Message.PriceChanged"],{robuxBefore:a,robuxAfter:n}),acceptText:d["Action.BuyNow"],acceptColor:Roblox.Dialog.green,onAccept:function(){t.attr("data-expected-price",e.currentPrice),t.attr("data-expected-currency",e.currentCurrency),r(t,"PurchaseVerificationView")},declineText:d["Action.Cancel"],footerText:c.f(d["Message.BalanceAfter"],{robuxBalance:i}),allowHtmlContentInBody:!0,allowHtmlContentInFooter:!0,dismissable:!0,checkboxAgreementText:d["Label.AgreeAndPay"],checkboxAgreementRequired:!0})}else"TwoStepVerificationRequiredView"===e.showDivID&&C.start()}function s(o){var t,a;0==o.Price?t="<span class='text-robux'>"+d["Label.Free"]+"</span>":t="<span class='icon-robux-16x16'></span><span class='text-robux'>"+o.Price+"</span>";var n,i=$("#ItemPurchaseAjaxData").attr("data-imageurl"),r="",l=d["Action.Continue"],s=Roblox.Dialog.none;"Private Server"===o.AssetType?(r=d["Action.Configure"],l=d["Action.NotNow"],s=Roblox.Dialog.blue,n=function(){var e=$("#ItemPurchaseAjaxData").attr("data-continueshopping-url");null!=e&&""!=e&&(document.location.href=e)}):o.AssetIsWearable&&(r=d["Action.Customize"],s=Roblox.Dialog.white,l=d["Action.NotNow"],n=function(){var e=Roblox.Endpoints.getAbsoluteUrl("/my/avatar");null!=e&&""!=e&&(document.location.href=e)});var u,p={assetName:"<span class='font-bold'>"+o.AssetName.escapeHTML()+"</span>",assetType:o.AssetTypeDisplayName?o.AssetTypeDisplayName:o.AssetType,seller:o.SellerName.escapeHTML(),robux:t};u="bought"===o.TransactionVerb?v?"Message.SuccessfullyBoughtAccess":"Message.SuccessfullyBought":v?"Message.SuccessfullyAcquiredAccess":"Message.SuccessfullyAcquired",a=c.f(d[u],p),Roblox.Dialog.open({titleText:d["Heading.PurchaseComplete"],bodyContent:a,imageUrl:i,acceptText:r,declineText:l,xToCancel:!0,onAccept:n,onDecline:function(){window.location.reload()},acceptColor:s,declineColor:Roblox.Dialog.white,allowHtmlContentInBody:!0,dismissable:!0,onOpenCallback:function(){$(".modal-confirmation .roblox-item-image").html("").attr("data-item-id",o.AssetId),Roblox.require("Widgets.ItemImage",(function(e){e.load($(".modal-confirmation .roblox-item-image"))}))}}),e(o)}if(!(this instanceof Roblox.ItemPurchase))return new Roblox.ItemPurchase(e,o,t);o=void 0!==o&&o;var c=new Roblox.Intl,d=Roblox.Lang.PurchaseDialogResources,u=$("#ItemPurchaseAjaxData"),p=u.attr("data-authenticateduser-isnull"),f=u.attr("data-user-balance-robux"),b=u.attr("data-user-bc"),m=u.attr("data-alerturl"),g=u.attr("data-inSufficentFundsurl"),h=u.attr("data-is-bc-only-requirement-enabled"),v=!1,x="True"===u.attr("data-has-currency-service-error"),y=u.attr("data-currency-service-error-message"),A="True"===u.attr("data-is-modal-footer-centered-enabled"),w="Roblox",R={buy:"buy",rent:"rent",get:"get"},C=new Roblox.TwoStepVerificationFlow("RobuxSpend");return{purchaseItem:r,openPurchaseVerificationView:function(e,o){var t,s,u,m,g,w,C,L,T,P,I,S;if(o=void 0!==o?o:"item",!(t=$(e)).hasClass("btn-disabled-primary")){if(x)return void l({showDivID:"TransactionFailureView",title:"Error",errorMsg:y});if("True"===h&&(t.attr("data-bc-requirement")>b&&"False"===p))return void showBCOnlyModal("BCOnlyModal");var k=t.attr("data-item-name"),F=k?k.escapeHTML():"",M=parseInt(t.attr("data-expected-price")),D=t.attr("data-expected-currency"),E=i(t.attr("data-seller-name")).escapeHTML(),V=t.attr("data-asset-type"),G=t.attr("data-asset-type-display-name");(0===V||"0"===V)&&(V=t.attr("data-item-type"));var B=t.attr("data-item-id"),N=$("#ItemPurchaseAjaxData").attr("data-footer-text"),U=null==N?"":N;if($("#ItemPurchaseAjaxData").attr("data-footer-text",null),v="Place"==V,"True"===p)return void n();var O=parseInt(f)-M,H="",q="";if(0===M?(R.get,H=d["Heading.GetItem"],q=d["Action.GetNow"]):(R.buy,H=d["Heading.BuyItem"],q=d["Action.BuyNow"]),O<0)return s={shortfallPrice:0-O,currentCurrency:D,showDivID:"InsufficientFundsView",isPlace:v,source:o},void(Roblox.ItemPurchaseUpsellService?(u={expectedItemPrice:M,assetName:F},Roblox.ItemPurchaseUpsellService.startCatalogUpsellProcess(s,u,l)):l(s));var Y=$("#ItemPurchaseAjaxData").attr("data-imageurl"),W="<span class='icon-robux-16x16'></span><span class='text-robux'>"+Roblox.NumberFormatting.commas(M)+"</span>",j="";j+=a(O),m=function(){return r(e,"PurchaseVerificationView")},g=(g=t.attr("data-purchase-title-text"))||H,C={assetName:"<span class='font-bold'>"+F+"</span>",assetType:G,seller:E},0===M?(w=v?"Message.PromptGetFreeAccess":"Message.PromptGetFree",C.freeTextStart="<span class='text-robux'>",C.freeTextEnd="</span>"):(w=v?"Message.PromptBuyAccess":"Message.PromptBuy",C.robux=W),T=c.f(d[w],C),L=(L=t.attr("data-purchase-body-content"))?L.format(W):T,P="true"===t.attr("data-modal-field-validation-required"),I=d["Action.BuyAccess"],0===U.length&&(j="<span class='icon-robux-gray-16x16'></span>"+j),S=c.f(d["Message.BalanceAfter"],{robuxBalance:j}),Roblox.Dialog.open({titleText:g,bodyContent:L,imageUrl:Y,xToCancel:!0,acceptText:v?I:q,acceptColor:Roblox.Dialog.green,onAccept:m,declineText:d["Action.Cancel"],footerText:0===U.length?S:U.format(j),footerMiddleAligned:A,allowHtmlContentInBody:!0,allowHtmlContentInFooter:!0,dismissable:!0,fieldValidationRequired:P,cssClass:"need-padding",onOpenCallback:function(){if($(".modal-confirmation .roblox-item-image").attr("data-item-id",B),Roblox.require("Widgets.ItemImage",(function(e){e.load($(".modal-confirmation .roblox-item-image"))})),Roblox.ModalEvents&&t){var e=t.attr("data-button-type");e&&Roblox.ModalEvents.SendAssetPurchaseConfirmationShown("assetPurchaseConfirmation",e)}}})}},openPurchaseConfirmationView:s,redirectToLogin:n,purchaseConfirmationCallback:e,openErrorView:l,addCommasToMoney:a,formatMoney:function(e){return e<1?e+"":e<1e4?a(e):e>=1e6?Math.floor(e/1e6)+"M+":Math.floor(e/1e3)+"K+"}}},Roblox.ItemPurchase.ModalClose=function(e){$.modal.close("."+e)},Roblox.TwoStepVerificationFlow=function(e){function o(){$.ajax({type:"POST",url:Roblox.EnvironmentUrls.economyApi+"/v2/"+l+"/two-step-verification/generate",success:function(o){u=o,Roblox.AccountIntegrityChallengeService.TwoStepVerification.renderChallenge({containerId:"2sv-popup-container",userId:f.userId,challengeId:o,actionType:e,renderInline:!1,shouldShowRememberDeviceCheckbox:!1,shouldDynamicallyLoadTranslationResources:!1,onChallengeCompleted:n,onChallengeInvalidated:i,onModalChallengeAbandoned:$.noop}).catch((function(){a()}))},error:function(){a()}})}function t(){$.modal.close();var e=$(".system-feedback .alert-success"),o=c["Response.SuccessfulVerificationV2"];e.length>0&&Roblox.BootstrapWidgets&&Roblox.BootstrapWidgets.ToggleSystemMessage(e,100,6e3,o)}function a(){$.modal.close();var e=$(".system-feedback .alert-warning"),o=c["Response.VerificationError"];e.length>0&&Roblox.BootstrapWidgets&&Roblox.BootstrapWidgets.ToggleSystemMessage(e,100,6e3,o)}function n(e){var o={challengeToken:u,verificationToken:e.verificationToken};$.ajax({type:"POST",url:Roblox.EnvironmentUrls.economyApi+"/v2/"+l+"/two-step-verification/redeem",data:o,crossDomain:!0,xhrFields:{withCredentials:!0},success:function(e){e?t():a()},error:function(){a()}})}function i(){p<3&&o(),p+=1}function r(e){Roblox.EventStream&&Roblox.EventStream.SendEvent(e,s,{})}var l,s;"RobuxSpend"===e?(l="spend-friction",s="2svRobuxSpend"):(l="resale-friction",s="2svResale");var c=Roblox.Lang.PurchaseDialogResources,d=$("#ItemPurchaseAjaxData").attr("data-alerturl"),u="",p=0,f={userId:Roblox.CurrentUser?Roblox.CurrentUser.userId:null,challengeToken:"",verificationToken:"",code:"",actionType:e,supportPageUrl:Roblox.Endpoints.getAbsoluteUrl("/info/account-safety"),supportLink:""};return{start:function(){var e={titleText:c["Heading.TwoStepVerificationRequiredV3"],bodyContent:c["Message.TwoStepVerificationRequiredV4"],imageUrl:d,acceptText:c["Action.GoToSecurity"],acceptColor:Roblox.Dialog.green,onAccept:function(){window.location.href=Roblox.Endpoints.getAbsoluteUrl("/my/account#!/security")},declineText:c["Action.Cancel"],dismissable:!0,allowHtmlContentInBody:!0,onOpenCallback:function(){$(".modal-btns #confirm-btn").click((function(){r("goToSecurity")})),$(".modal-btns #decline-btn").click((function(){r("closeSettingsRedirectModal")}))}};$.ajax({type:"GET",url:Roblox.EnvironmentUrls.twoStepVerificationApi+"/v1/users/"+f.userId+"/configuration",success:function(t){var a,n=!1;if(t&&t.methods)for(a=0;a<t.methods.length;a++)if(t.methods[a].enabled){n=!0;break}!1===n?(r("settingsRedirectModalTriggered"),Roblox.Dialog.open(e)):(r("codeInputModalTriggered"),o())},error:function(){r("settingsRedirectModalTriggered"),Roblox.Dialog.open(e)}})}}},void 0===window.console&&(window.console={}),void 0===window.console.emulated&&("function"==typeof window.console.log?window.console.hasLog=!0:(void 0===window.console.log&&(window.console.log=function(){}),window.console.hasLog=!1),"function"==typeof window.console.debug?window.console.hasDebug=!0:(void 0===window.console.debug&&(window.console.debug=window.console.hasLog?function(){for(var e=["console.debug:"],o=0;o<arguments.length;o++)e.push(arguments[o]);window.console.log.apply(window.console,e)}:function(){}),window.console.hasDebug=!1),"function"==typeof window.console.warn?window.console.hasWarn=!0:(void 0===window.console.warn&&(window.console.warn=window.console.hasLog?function(){for(var e=["console.warn:"],o=0;o<arguments.length;o++)e.push(arguments[o]);window.console.log.apply(window.console,e)}:function(){}),window.console.hasWarn=!1),"function"==typeof window.console.error?window.console.hasError=!0:(void 0===window.console.error&&(window.console.error=function(){var e,o,t="An error has occured.";if(window.console.hasLog){for(e=["console.error:"],o=0;o<arguments.length;o++)e.push(arguments[o]);window.console.log.apply(window.console,e),t="An error has occured. More information is available in your browser's javascript console."}for(o=0;o<arguments.length&&"string"==typeof arguments[o];++o)t+="\n"+arguments[o];throw"undefined"!=typeof Error?new Error(t):t}),window.console.hasError=!1),"function"==typeof window.console.trace?window.console.hasTrace=!0:(void 0===window.console.trace&&(window.console.trace=function(){window.console.error("console.trace does not exist")}),window.console.hasTrace=!1),window.console.emulated=!0),function(e){e.History?window.console.warn("$.History has already been defined..."):(e.History={options:{debug:!1},state:"",$window:null,$iframe:null,handlers:{generic:[],specific:{}},extractHash:function(e){return e.replace(/^[^#]*#/,"").replace(/^#+|#+$/,"")},getState:function(){return e.History.state},setState:function(o){var t=e.History;return o=t.extractHash(o),t.state=o},getHash:function(){return e.History.extractHash(window.location.hash||location.hash)},setHash:function(o){return o=e.History.extractHash(o),void 0!==window.location.hash?window.location.hash!==o&&(window.location.hash=o):location.hash!==o&&(location.hash=o),o},go:function(o){var t,a,n=e.History;return o=n.extractHash(o),t=n.getHash(),a=n.getState(),o!==t?n.setHash(o):(o!==a&&n.setState(o),n.trigger()),!0},hashchange:function(){var o=e.History,t=o.getHash();return o.go(t),!0},bind:function(o,t){var a=e.History;return t?(void 0===a.handlers.specific[o]&&(a.handlers.specific[o]=[]),a.handlers.specific[o].push(t)):(t=o,a.handlers.generic.push(t)),!0},trigger:function(o){var t,a,n,i=e.History;if(void 0===o&&(o=i.getState()),void 0!==i.handlers.specific[o])for(t=0,a=(n=i.handlers.specific[o]).length;t<a;++t)(0,n[t])(o);for(t=0,a=(n=i.handlers.generic).length;t<a;++t)(0,n[t])(o);return!0},construct:function(){var o=e.History;return e(document).ready((function(){o.domReady()})),!0},configure:function(o){var t=e.History;return t.options=e.extend(t.options,o),!0},domReadied:!1,domReady:function(){var o=e.History;if(!o.domRedied)return o.domRedied=!0,o.$window=e(window),o.$window.bind("hashchange",this.hashchange),setTimeout(o.hashchangeLoader,200),!0},nativeSupport:function(o){var t=(o=o||e.browser).version,a=parseInt(t,10),n=t.split(/[^0-9]/g),i=parseInt(n[0],10),r=parseInt(n[1],10),l=parseInt(n[2],10),s=!1;return o.msie&&a>=8||o.webkit&&a>=528?s=!0:o.mozilla?(i>1||1===i&&(r>9||9===r&&l>=2))&&(s=!0):!!o.opera&&((i>10||10===i&&r>=60)&&(s=!0)),s},hashchangeLoader:function(){var o,t,a=e.History;return a.nativeSupport()?a.getHash()&&a.$window.trigger("hashchange"):(e.browser.msie?(a.$iframe=e('<iframe id="jquery-history-iframe" style="display: none;"></$iframe>').prependTo(document.body)[0],a.$iframe.contentWindow.document.open(),a.$iframe.contentWindow.document.close(),t=!1,o=function(){var e=a.getHash(),o=a.getState(),n=a.extractHash(a.$iframe.contentWindow.document.location.hash);o!==e?(t||(a.$iframe.contentWindow.document.open(),a.$iframe.contentWindow.document.close(),a.$iframe.contentWindow.document.location.hash=e),t=!1,a.$window.trigger("hashchange")):o!==n&&(t=!0,a.setHash(n))}):o=function(){var e=a.getHash();a.getState()!==e&&a.$window.trigger("hashchange")},setInterval(o,200)),!0}},e.History.construct())}(jQuery),$((function(){$.History.bind((function(e){var o="#"+e.substring(2);$(".rbx-tab a").each((function(){$(this).attr("href")==o&&$(this).click()}))}));$(".rbx-tab").click((function(e){if(e.hasOwnProperty("originalEvent")){var o="!/"+$(this).find("a").attr("href").substring(1);$.History.go(o)}}))})),void 0===Roblox&&(Roblox={}),void 0===Roblox.Dialog&&(Roblox.Dialog=function(){function e(e){e.hasClass(s)?e.addClass(u):e.hasClass(r)?e.addClass(c):e.hasClass(l)&&e.addClass(d)}function o(e){return!!(e.hasClass(d)||e.hasClass(u)||e.hasClass(c))}function t(e){e.hasClass(u)?(e.removeClass(u),e.addClass(s)):e.hasClass(c)?(e.removeClass(c),e.addClass(r)):e.hasClass(d)&&(e.removeClass(d),e.addClass(l))}function a(e){m.isOpen=!1,void 0!==e?$.modal.close(e):$.modal.close(),$("#rbx-body").removeClass("modal-mask")}function n(e){a(),"function"==typeof e&&e()}var i=".simplemodal-container",r="btn-primary-md",l="btn-secondary-md",s="btn-control-md",c="btn-primary-md disabled",d="btn-secondary-md disabled",u="btn-control-md disabled",p=".modal-btns #confirm-btn",f=".modal-btns #decline-btn",b="#modal-checkbox-input",m={isOpen:!1},g={overlayClose:!0,escClose:!0,opacity:80,zIndex:1040,overlayCss:{backgroundColor:"#000"},onClose:a,focus:!1},h={Yes:"Yes",No:"No",Agree:"Agree"};return{open:function(r){var c,d,u,v,x,y;m.isOpen=!0,c={titleText:"",bodyContent:"",footerText:"",footerMiddleAligned:!1,acceptText:Roblox.Lang.ControlsResources["Action.Yes"]||h.Yes,declineText:Roblox.Lang.ControlsResources["Action.No"]||h.No,acceptColor:l,declineColor:s,xToCancel:!1,onAccept:function(){return!1},onDecline:function(){return!1},onCancel:function(){return!1},imageUrl:null,showAccept:!0,showDecline:!0,allowHtmlContentInBody:!1,allowHtmlContentInFooter:!1,dismissable:!0,fieldValidationRequired:!1,onOpenCallback:function(){},onCloseCallback:a,cssClass:null,checkboxAgreementText:Roblox.Lang.ControlsResources["Action.Agree"]||h.Agree,checkboxAgreementRequired:!1},r=$.extend({},c,r),g.overlayClose=r.dismissable,g.escClose=r.dismissable,r.onCloseCallback&&(g.onClose=function(){r.onCloseCallback(),a()}),(d=$(p)).html(r.acceptText),d.attr("class",r.acceptColor),d.unbind(),d.bind("click",(function(){return o(d)||(r.fieldValidationRequired?function(e){if("function"==typeof e){var o=e();if("undefined"!==o&&0==o)return!1}a()}(r.onAccept):n(r.onAccept)),!1})),(u=$(f)).html(r.declineText),u.attr("class",r.declineColor),u.unbind(),u.bind("click",(function(){return o(u)||n(r.onDecline),!1})),(v=$(b)).unbind(),v.bind("change",(function(){v.is(":checked")?t(d):e(d)})),(x=$('[data-modal-type="confirmation"]')).find(".modal-title").text(r.titleText),null==r.imageUrl?x.addClass("noImage"):(x.find("img.modal-thumb").attr("src",r.imageUrl),x.removeClass("noImage")),m.extraClass&&(x.removeClass(m.extraClass),m.extraClass=!1),null!=r.cssClass&&(x.addClass(r.cssClass),m.extraClass=r.cssClass),r.allowHtmlContentInBody?x.find(".modal-message").html(r.bodyContent):x.find(".modal-message").text(r.bodyContent),r.checkboxAgreementRequired?(e(d),x.find(".modal-checkbox.checkbox > input").prop("checked",!1),x.find(".modal-checkbox.checkbox > label").text(r.checkboxAgreementText),x.find(".modal-checkbox.checkbox").show()):(x.find(".modal-checkbox.checkbox > input").prop("checked",!0),x.find(".modal-checkbox.checkbox").hide()),""==$.trim(r.footerText)?x.find(".modal-footer").hide():x.find(".modal-footer").show(),r.allowHtmlContentInFooter?x.find(".modal-footer").html(r.footerText):x.find(".modal-footer").text(r.footerText),r.footerMiddleAligned&&x.find(".modal-footer").addClass("modal-footer-center"),x.modal(g),(y=$(i+" .modal-header .close")).unbind(),y.bind("click",(function(){return n(r.onCancel),!1})),r.xToCancel||y.hide(),r.showAccept||d.hide(),r.showDecline||u.hide(),$("#rbx-body").addClass("modal-mask"),r.onOpenCallback()},close:a,disableButtons:function(){var o=$(p),t=$(f);e(o),e(t)},enableButtons:function(){var e=$(p),o=$(f);t(e),t(o)},clickYes:function(){m.isOpen&&$(p).click()},clickNo:function(){$(f).click()},status:m,toggleProcessing:function(e,o){var t=$(".modal-body");e?(t.find(".modal-btns").hide(),t.find(".modal-processing").show()):(t.find(".modal-btns").show(),t.find(".modal-processing").hide()),void 0!==o&&""!==o&&$.modal.close("."+o)},green:r,blue:l,white:s,none:"btn-none"}}()),$(document).keypress((function(e){Roblox.Dialog.isOpen&&13===e.which&&Roblox.Dialog.clickYes()})),(Roblox=Roblox||{}).GameDetailReferral=Roblox.GameDetailReferral||{},Roblox.GameDetailReferral.AppendUrl=function(e,o,t){if(!e.data("modified")){var a=$(o).length,n=t||e,i=n.attr("href"),r=i;r+=-1!==i.indexOf("?")?"&":"?",r+="LocalTimestamp="+(new Date).toISOString()+"&TotalInSort="+a,n.attr("href",r),e.data("modified",!0)}},$((function(){var e=".game-card-link",o="mousedown touchstart";$("#recently-visited-places").on(o,".game-card",(function(){Roblox.GameDetailReferral.AppendUrl($(this).find(e),"#recently-visited-places .list-item")})),$("#my-favorites-games").on(o,".game-card",(function(){Roblox.GameDetailReferral.AppendUrl($(this).find(e),"#my-favorites-games .game-card")})),$("#friend-activity").on(o,".game-card",(function(){Roblox.GameDetailReferral.AppendUrl($(this).find(e),"#friend-activity .game-card")})),$("#UserPlaces div.Thumbnail").on(o,(function(){Roblox.GameDetailReferral.AppendUrl($(this),".Thumbnail",$(this).find("a"))})),$("#GamesListsContainer").on(o,".game-card",(function(){var o=$(this).parent().siblings().length+1;Roblox.GameDetailReferral.AppendUrl($(this).find(e),new Array(o))})),$("#my-recommended-games").on(o,".game-card",(function(){Roblox.GameDetailReferral.AppendUrl($(this).find(e),"#my-recommended-games .game-card")})),$("#HomeContainer #FeaturedGamesContainer").on(o,".item-place a",(function(){Roblox.GameDetailReferral.AppendUrl($(this),"#FeaturedGamesContainer .item-place")}))})),void 0===Roblox&&(Roblox={}),void 0===Roblox.GameDetailsInteractionEvents&&(Roblox.GameDetailsInteractionEvents=function(){var e,o=!1,t=function(o){Roblox.EventStream&&Roblox.EventStream.SendEvent("gameDetailsTabInteraction",o,{pid:e})},a=function(){t("about")},n=function(){t("store")},i=function(){t("leaderboards")},r=function(){t("gameInstances")};return{Init:function(){o||(o=!0,e=$(".rbx-tabs-horizontal").data("place-id"),$("#tab-about").mousedown(a),$("#tab-store").mousedown(n),$("#tab-leaderboards").mousedown(i),$("#tab-game-instances").mousedown(r))}}}()),$((function(){Roblox.GameDetailsInteractionEvents.Init()})),(Roblox=Roblox||{}).PrivateServerLinkJoin=function(){var e;return{init:function(o){e=o},execute:function(){"function"==typeof e&&e()}}}(),(Roblox=Roblox||{}).AdsHelper=Roblox.AdsHelper||{},Roblox.AdsLibrary={},Roblox.AdsLibrary.adsIdList=["Skyscraper-Abp-Left","Skyscraper-Abp-Right","Leaderboard-Abp","GamePageAdDiv1","GamePageAdDiv2","GamePageAdDiv3","ProfilePageAdDiv1","ProfilePageAdDiv2"],Roblox.AdsLibrary.adsParameters={"Skyscraper-Abp-Left":{element:$("#Skyscraper-Abp-Left"),template:null,fitTwoAds:!0,fitOneAd:!1,isSkyscraper:!0},"Skyscraper-Abp-Right":{element:$("#Skyscraper-Abp-Right"),tempalte:null,fitTwoAds:!0,fitOneAd:!0,isSkyscraper:!0},"Leaderboard-Abp":{element:$("#Leaderboard-Abp"),tempalte:null,fitTwoAds:!0,fitOneAd:!0,isLeaderboard:!0},GamePageAdDiv1:{element:$("#GamePageAdDiv1"),template:null,isPageAd:!0},GamePageAdDiv2:{element:$("#GamePageAdDiv2"),template:null,isPageAd:!0},GamePageAdDiv3:{element:$("#GamePageAdDiv3"),template:null,isPageAd:!0},ProfilePageAdDiv1:{element:$("#ProfilePageAdDiv1"),template:null,isPageAd:!0},ProfilePageAdDiv2:{element:$("#ProfilePageAdDiv2"),template:null,isPageAd:!0}},Roblox.AdsHelper.AdRefresher=function(){function e(t){var n,l,s,c;for(l in void 0===t&&(t=r),n=!1,a){if(s="#"+a[l]+" [data-js-adtype]",void 0===(c=$(s)))return;if("iframead"===c.attr("data-js-adtype"))o(c);else if("gptAd"===c.attr("data-js-adtype"))if(googletag.pubadsReady)n=!0;else if(t>0){setTimeout((function(){e(--t)}),i);break}}n&&googletag.cmd.push((function(){googletag.pubads().refresh()}))}function o(e){var o,t,a,n=e.attr("src");"string"==typeof n&&(o=n.indexOf("?")<0?"?":"&",t=n+o+"nocache="+(new Date).getMilliseconds().toString(),void 0!==e[0])&&(void 0===(a=e[0].contentDocument)&&(a=e[0].contentWindow),a&&"about:blank"!==a.location.href&&a.location.replace(t))}function t(o,t,a){a.length&&function(e){return!e||!$.trim($(e).html())}(a)&&(a.append(o),e())}var a=[],n=728,i=100,r=16,l=$("[data-max-width-for-two-ads]").attr("data-max-width-for-two-ads")||1318,s=$("[data-max-width-for-one-ads]").attr("data-max-width-for-one-ads")||1134,c=1004;return{registerAd:function(e){a.push(e)},refreshAds:e,adjustAdsFitScreen:function(){for(var e,o,a,i=$(window).width(),r=0;r<Roblox.AdsLibrary.adsIdList.length;r++)o=Roblox.AdsLibrary.adsIdList[r],(a=Roblox.AdsLibrary.adsParameters[o])&&!a.template&&(e=a.element,a.template=e.html());for(r=0;r<Roblox.AdsLibrary.adsIdList.length;r++)o=Roblox.AdsLibrary.adsIdList[r],(a=Roblox.AdsLibrary.adsParameters[o])&&(a.isSkyscraper?i>=l&&a.fitTwoAds||i<l&&i>=s&&a.fitOneAd?t(a.template,0,a.element):a.element.empty():a.isLeaderboard?i<n?a.element.empty():t(a.template,0,a.element):a.isPageAd&&(i<c?a.element.empty():t(a.template,0,a.element)))},getAds:t}}(),Roblox.AdsHelper.DynamicAdCreator={populateNewAds:function(){$(".dynamic-ad").filter(".unpopulated").each((function(e,o){var t=$(o),a=t.attr("data-ad-slot"),n=parseInt(t.attr("data-ad-width")),i=parseInt(t.attr("data-ad-height")),r=t.children(".ad-slot").attr("id");googletag.cmd.push((function(){var e=googletag.defineSlot(a,[n,i],r).addService(googletag.pubads());googletag.display(r),googletag.pubads().refresh([e])})),t.removeClass("unpopulated")}))}},$((function(){$(window).resize((function(){Roblox.AdsHelper.AdRefresher.adjustAdsFitScreen()}))})),
/*!
 * Lazy Load - jQuery plugin for lazy loading images
 *
 * Copyright (c) 2007-2015 Mika Tuupola
 *
 * Licensed under the MIT license:
 *   http://www.opensource.org/licenses/mit-license.php
 *
 * Project home:
 *   http://www.appelsiini.net/projects/lazyload
 *
 * Version:  1.9.7
 *
 */
function(e,o,t,a){var n=e(o);e.fn.lazyload=function(i){function r(){var o=0;s.each((function(){var t=e(this);if((!c.skip_invisible||t.is(":visible"))&&!e.abovethetop(this,c)&&!e.leftofbegin(this,c))if(e.belowthefold(this,c)||e.rightoffold(this,c)){if(++o>c.failure_limit)return!1}else t.trigger("appear"),o=0}))}var l,s=this,c={threshold:0,failure_limit:0,event:"scroll",effect:"show",container:o,data_attribute:"original",skip_invisible:!1,appear:null,load:null,placeholder:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC",loading_class:""};return i&&(a!==i.failurelimit&&(i.failure_limit=i.failurelimit,delete i.failurelimit),a!==i.effectspeed&&(i.effect_speed=i.effectspeed,delete i.effectspeed),e.extend(c,i)),l=c.container===a||c.container===o?n:e(c.container),0===c.event.indexOf("scroll")&&l.bind(c.event,(function(){return r()})),this.each((function(){var o=this,t=e(o);o.loaded=!1,(t.attr("src")===a||!1===t.attr("src"))&&(t.is("img")&&c.loading_class.length<1&&t.attr("src",c.placeholder),c.loading_class.length>=1&&t.addClass(c.loading_class)),t.one("appear",(function(){if(!this.loaded){if(c.appear){var a=s.length;c.appear.call(o,a,c)}e("<img />").bind("load",(function(){var a,n,i=t.attr("data-"+c.data_attribute);t.hide(),t.is("img")?t.attr("src",i):t.css("background-image","url('"+i+"')"),t.removeClass(c.loading_class),t[c.effect](c.effect_speed),o.loaded=!0,a=e.grep(s,(function(e){return!e.loaded})),s=e(a),c.load&&(n=s.length,c.load.call(o,n,c))})).attr("src",t.attr("data-"+c.data_attribute))}})),0!==c.event.indexOf("scroll")&&t.bind(c.event,(function(){o.loaded||t.trigger("appear")}))})),n.bind("resize",(function(){r()})),/(?:iphone|ipod|ipad).*os 5/gi.test(navigator.appVersion)&&n.bind("pageshow",(function(o){o.originalEvent&&o.originalEvent.persisted&&s.each((function(){e(this).trigger("appear")}))})),e(t).ready((function(){r()})),this},e.belowthefold=function(t,i){return(i.container===a||i.container===o?(o.innerHeight?o.innerHeight:n.height())+n.scrollTop():e(i.container).offset().top+e(i.container).height())<=e(t).offset().top-i.threshold},e.rightoffold=function(t,i){return(i.container===a||i.container===o?n.width()+n.scrollLeft():e(i.container).offset().left+e(i.container).width())<=e(t).offset().left-i.threshold},e.abovethetop=function(t,i){return(i.container===a||i.container===o?n.scrollTop():e(i.container).offset().top)>=e(t).offset().top+i.threshold+e(t).height()},e.leftofbegin=function(t,i){return(i.container===a||i.container===o?n.scrollLeft():e(i.container).offset().left)>=e(t).offset().left+i.threshold+e(t).width()},e.inviewport=function(o,t){return!(e.rightoffold(o,t)||e.leftofbegin(o,t)||e.belowthefold(o,t)||e.abovethetop(o,t))},e.extend(e.expr[":"],{"below-the-fold":function(o){return e.belowthefold(o,{threshold:0})},"above-the-top":function(o){return!e.belowthefold(o,{threshold:0})},"right-of-screen":function(o){return e.rightoffold(o,{threshold:0})},"left-of-screen":function(o){return!e.rightoffold(o,{threshold:0})},"in-viewport":function(o){return e.inviewport(o,{threshold:0})},"above-the-fold":function(o){return!e.belowthefold(o,{threshold:0})},"right-of-fold":function(o){return e.rightoffold(o,{threshold:0})},"left-of-fold":function(o){return!e.rightoffold(o,{threshold:0})}})}(jQuery,window,document),(Roblox=Roblox||{}).LazyLoadImg=Roblox.LazyLoadImg||{},Roblox.LazyLoadImg.init=function(e,o){var t=(o?o.selector+" ":"")+"img.lazy";$(t).lazyload({skip_invisible:!0,placeholder:"",loading_class:"icon-placeholder-game",threshold:e,container:o})},Roblox.LazyLoadImg.scrollWhenTabsAreClicked=function(){$(".rbx-tab").on("shown.bs.tab",(function(){$(document).trigger("scroll")}))},Roblox.LazyLoadImg.updateImageScroll=function(e){e?e.trigger("scroll"):$(document).trigger("scroll")},$((function(){Roblox.LazyLoadImg.init(),Roblox.LazyLoadImg.scrollWhenTabsAreClicked()})),void 0===Roblox&&(Roblox={}),void 0===Roblox.NumberFormatting&&(Roblox.NumberFormatting=function(){var e=function(e){if("number"!=typeof e)throw"'number' is not a number";return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")};return{abbreviatedFormat:function(o){var t,a,n;if("number"!=typeof o)throw"'number' is not a number";return 0==o?"0":o<1e4?e(o):(t="B+",a=9,o<1e6?(t="K+",a=3):o<1e9&&(t="M+",a=6),(n=o.toString()).substring(0,n.length-a)+t)},commas:e,abbreviate:function(e){var o;if("number"!=typeof e)throw"'number' is not a number";var t=1e3,a=1e6,n=1e9;return e<=0?"0":e<t?e:e<a?(o=Math.round(e/t*10)/10)>=t?Math.round(o/t*10)/10+"M":o+"K":e<n?(o=Math.round(e/a*10)/10)>=t?Math.round(o/t*10)/10+"B":o+"M":Math.round(e/n*10)/10+"B"}}}()),(Roblox=Roblox||{}).Lang=Roblox.Lang||{},Roblox.Lang["Feature.VotingPanel"]={"Label.Accept":"Verify","Label.AccountPageTitle":"Account","Label.AccountUnderDayOneMessage":"You will be able to vote on Experiences and Studio Models later, after you've had a chance to experience Roblox a bit more. Come back to this page in a couple days.","Label.AccountUnderDayOneTitle":"Voter Feedback","Label.AssetNotVoteableMessage":"This asset may not be voted on at this time.","Label.AssetNotVoteableTitle":"Unable to Vote","Label.BuyGamePassMessage":"You must own this pass before you can vote on it.","Label.BuyGamePassTitle":"Buy Pass","Label.Decline":"Cancel","Label.EmailVerifiedMessage":"You must verify your email before you can vote. You can verify your email on the {accountPageLink} page.","Label.EmailVerifiedTitle":"Verify Your Email","Label.FloodCheckMessage":"You're voting too quickly. Come back later and try again.","Label.FloodCheckTitle":"Slow Down","Label.GuestUserMessage":"Please {loginOrRegisterPageLink} to continue.","Label.GuestUserTitle":"Login to Vote","Label.InstallPluginMessage":"You must install this plugin before you can vote on it.","Label.InstallPluginTitle":"Install Plugin","Label.Login":"Login","Label.LoginOrRegisterPageTitle":"login or register","Label.Ok":"OK","Label.PlayGameMessage":"You must visit the experience before you can vote on it.","Label.PlayGameTitle":"Join Experience","Label.UnknownProblemMessage":"There was an unknown problem voting. Please try again.","Label.UnknownProblemTitle":"Something Broke","Label.UseModelMessage":"You must use this model before you can vote on it.","Label.UseModelTitle":"Use Model","Label.YouMustLoginToVote":"You must login to vote."},Roblox.Lang.VotingPanelResources=Roblox.Lang["Feature.VotingPanel"];var Roblox=Roblox||{};$((function(){var e=$("#toggle-game-favorite"),o=$("#game-favorite-icon"),t=$("#game-favorite-icon-label"),a=$(".game-favorite-button-container .tooltip-container"),n=e.data("signin-url"),i=o.length,r=o.hasClass("favorited"),l=$(".game-favorite-count"),s=0,c=["0","1","2","3","4","5","6","7","8","9"],d=Roblox.Lang.FavoritesResources,u={loggedInTitle:d.LabelLoginRequired,buttonLabel:d["Label.Favorite"],buttonLabelFavorited:d["Label.Favorited"],tooltipRemoveFavorite:d.ActionRemoveFromFavorites,tooltipAddFavorite:d.ActionAddToFavorites,loggedInMsg:d.DescriptionLoginRequired,loginAction:d.ActionLogin,cancelAction:d.ActionCancel},p=function(){var e,n;r?(e=u.tooltipRemoveFavorite,n=u.buttonLabelFavorited):(e=u.tooltipAddFavorite,n=u.buttonLabel),t.text(n),i?a.attr("data-original-title",e):a.attr("title",e),o.removeClass("favorited"),r&&o.addClass("favorited")};p(),e.click((function(){"true"===e.data("isguest").toLowerCase()?Roblox.Dialog.open({titleText:u.loggedInTitle,bodyContent:u.loggedInMsg,onAccept:function(){window.location.href=n},acceptColor:Roblox.Dialog.blue,acceptText:u.loginAction,declineText:u.cancelAction}):$.post(e.data("toggle-url"),{assetID:e.data("assetid")},(function(e){var o,t,a,n=!0,i=l.text(),d="",u=$(".content .alert-warning");if(e.success){for(r=!r,o=0;o<i.length&&n;o++)","!==(t=i[o])&&$.inArray(t,c)<0&&(n=!1);n&&(a=/,/gi,i=i.replace(a,""),s=parseInt(i,10)),n&&!isNaN(s)&&(r?s++:s--,d=Roblox.NumberFormatting.commas(s),s>0?l.text(d):l.text("0")),p()}else Roblox.BootstrapWidgets&&Roblox.BootstrapWidgets.ToggleSystemMessage&&u.length&&Roblox.BootstrapWidgets.ToggleSystemMessage(u,200,2e3,e.message)}))}))})),(Roblox=Roblox||{}).Lang=Roblox.Lang||{},Roblox.Lang["Feature.Favorites"]={ActionAddToFavorites:"Add to Favorites",ActionCancel:"Cancel",ActionLogin:"Login",ActionRemoveFromFavorites:"Remove from Favorites",DescriptionLoginRequired:"You must be logged in to add this to your favorites. Please Login or Register to continue","Heading.Favorites":"Favorites","Heading.MyFavorites":"My Favorites","Heading.UserFavorites":"{username}'s Favorites","Label.AddToFavorites":"Add to Favorites","Label.Favorite":"Favorite","Label.Favorited":"Favorited",LabelLoginRequired:"Login Required",MessageAssetNotFoundError:"The asset you are trying to favorite cannot be found."},Roblox.Lang.FavoritesResources=Roblox.Lang["Feature.Favorites"];Roblox=Roblox||{};$((function(){var e=$("#toggle-game-follow"),o=$("#game-follow-icon"),t=$("#game-follow-icon-label"),a=$(".game-follow-button-container .tooltip-container"),n=e.data("signin-url"),i=o.length,r=e.data("user-id"),l=e.data("universe-id"),s=e.data("is-guest"),c=e.data("originator"),d=e.data("originator-id"),u=!1,p=!1,f=Roblox.Lang.GameFollowsResources,b={buttonLabelFollow:f.LabelFollow,buttonLabelFollowed:f.LabelFollowing,tooltipFollow:f.TooltipFollowGame,tooltipUnfollow:f.TooltipUnfollowGame,tooltipFollowLimitReached:f.TooltipFollowLimitReached,loggedInTitle:f.LabelLoginRequired,loggedInMsg:f.DescriptionLoginRequired,loginAction:f.ActionLogin,cancelAction:f.ActionCancel},m=function(){var e,n;u?(e=b.tooltipUnfollow,n=b.buttonLabelFollowed):p?(e=b.tooltipFollowLimitReached,n=b.buttonLabelFollow):(e=b.tooltipFollow,n=b.buttonLabelFollow),t.text(n),i?a.attr("data-original-title",e):a.attr("title",e),o.removeClass("followed"),u&&o.addClass("followed")},g=function(){u=!0,m()},h=function(){u=!1,m(),"GameUpdateNotification"===c&&$.ajax({url:Roblox.EnvironmentUrls.notificationApi+"/v2/stream-notifications/game-update-notification-interacted",type:"POST",data:{universeId:l,createdOn:new Date(d),interactionType:"Unfollowed",currentUserId:r}})};s?(m(),e.click((function(){Roblox.Dialog.open({titleText:b.loggedInTitle,bodyContent:b.loggedInMsg,onAccept:function(){window.location.href=n},acceptColor:Roblox.Dialog.blue,acceptText:b.loginAction,declineText:b.cancelAction})}))):$.ajax({url:Roblox.EnvironmentUrls.followingsApi+"/v1/users/"+r+"/universes/"+l+"/status",type:"GET"}).done((function(o){u=o.IsFollowing,p=o.FollowingCountByType>=o.FollowingLimitByType,m(),p||e.click((function(){u?$.ajax({url:Roblox.EnvironmentUrls.followingsApi+"/v1/users/"+r+"/universes/"+l,type:"DELETE",success:h}):$.ajax({url:Roblox.EnvironmentUrls.followingsApi+"/v1/users/"+r+"/universes/"+l,type:"POST",success:g})}))}))})),(Roblox=Roblox||{}).Lang=Roblox.Lang||{},Roblox.Lang["Feature.GameFollows"]={ActionCancel:"Cancel",ActionLogin:"Login",DescriptionLoginRequired:"You must be logged in to follow this experience. Please Login or Register to continue.",LabelFollow:"Follow",LabelFollowing:"Following",LabelLoginRequired:"Login Required",TooltipFollowGame:"Follow Experience",TooltipFollowLimitReached:"Limit reached. Please unfollow other experiences to follow this one.",TooltipUnfollowGame:"Unfollow Experience"},Roblox.Lang.GameFollowsResources=Roblox.Lang["Feature.GameFollows"],(Roblox=Roblox||{}).GamePassLazyLoading=function(){function e(){t.find(".list-item.real-game-pass").remove()}function o(e){t.prepend(e)}var t=$("#rbx-passes-container"),a=$(".rbx-gear-passes-item-add#spinner");return{init:function(){var t,n=a.clone().css("display","inherit");$("#rbx-passes-container").append(n),t="/Games/GetGamePassesInnerPartial?startIndex=0&maxRows="+Roblox.GamePassJSData.GamePassesPerPlaceLimit+"&placeId="+Roblox.GamePassJSData.PlaceID,$.ajax({type:"GET",url:t,contentType:"application/json; charset=utf-8",cache:!1,success:function(t){$(".rbx-passes-item-container#spinner").remove(),e(),o(t),t.length<1&&$("#rbx-game-passes").append('<p id="store-does-not-sell" class="section-content-off">'+Roblox.GamePassJSData.LabelGameDoesNotSell+"</p>")},error:function(){Roblox.Dialog.open({titleText:"Error",bodyContent:"Failed to load Game Passes.  Please try again later.",acceptText:"Ok",acceptColor:Roblox.Dialog.none,dismissable:!0})}})}}}(),void 0===Roblox.GenericModal&&(Roblox.GenericModal=function(){function e(){n.isOpen=!1,$.modal.close(),"function"==typeof o&&o()}var o,t="btn-neutral",a=".ImageButton.btn-neutral.btn-large.roblox-ok",n={isOpen:!1},i={overlayClose:!0,escClose:!0,opacity:80,overlayCss:{backgroundColor:"#000"},acceptColor:t};return $((function(){$(document).on("click",".GenericModal .roblox-ok",(function(){e()}))})),{close:e,open:function(t,r,l,s,c,d){var u,p;n.isOpen=!0,i=$.extend({},i,d),o=s,(u=$("div.GenericModal").filter(":first")).find("div.Title").text(t),null===r?u.addClass("noImage"):(u.find("img.GenericModalImage").attr("src",r),u.removeClass("noImage")),u.find("div.Message").html(l),c&&(u.removeClass("smallModal"),u.addClass("largeModal")),(p=u.find(a)).attr("class","btn-large "+i.acceptColor),p.unbind(),p.bind("click",(function(){e()})),u.modal(i)},status:n,green:"btn-primary",blue:t,gray:"btn-negative"}}()),Roblox.GenericModal.Resources={ErrorText:"Error",ErrorMessage:"Sorry, an error occurred."},$(document).keypress((function(e){13===e.which&&Roblox.GenericModal.status.isOpen&&Roblox.GenericModal.close()}));var captcha=angular.module("captcha",[]);captcha.constant("captchaConstants",{template:"<div id='{{captchaElem.id}}' ng-show='captchaElem.isVisible'></div>",googleTemplate:"google-captcha-template",fcTemplate:"fun-captcha-template",fcModalTemplate:"fun-captcha-modal-template"}),captcha.directive("captcha",["$log","$parse","captchaConstants","captchaInterface",function(e,o,t,a){return{restrict:"A",template:t.template,link:function(t,n,i){function r(e,o,i,r){var s,c;n.find("#"+t.captchaElem.id);t.captchaElem.isVisible=!0,s=function(){n.find("#"+t.captchaElem.id).empty(),t.captchaElem.isVisible=!1,angular.isFunction(o)&&o()},c=function(){angular.isFunction(i)&&i()},l?a.reset(e,s,c,r):(a.render(t.captchaElem.id,e,s,c,r),l=!0,a.execute())}var l,s,c;t.captchaElem={isVisible:!1},l=!1,s=o(i.captchaModel)(t),t.captchaElem.id=s.id||a.ids.defaultCaptcha,c=t.$watch((function(){return s.isActivated}),(function(a){if(a){var n=o(i.onCaptchaSuccess)(t)||angular.noop,l=o(i.onCaptchaError)(t)||angular.noop,c=o(i.onCaptchaResponse)(t)||angular.noop,d=o(i.captchaType)(t);if(!d)return void e.debug("[Captcha Error] captcha type cannot be empty");r(d,n,l,c),s.isActivated=!1}}),!0),t.$on("$destroy",(function(){c&&c()}))}}}]),captcha.factory("captchaInterface",["$q",function(){var e=Roblox.Captcha||{};return{types:e.types,ids:e.ids,setEndpoint:e.setEndpoint,setInvisibleMode:e.setInvisibleMode,setSiteKey:e.setSiteKey,reset:e.reset,render:e.render,execute:e.execute}}]),captcha.factory("funCaptchaInterface",["$q",function(){var e=Roblox.FunCaptcha||{};return{ids:Roblox.CaptchaConstants.ids,types:e.types,reset:e.reset,render:e.render}}]),captcha.directive("funCaptcha",["$log","$uibModal","captchaConstants","funCaptchaInterface",function(e,o,t,a){return{restrict:"A",scope:{captchaModel:"=",onFunCaptchaSuccess:"&",onFunCaptchaError:"&",onFunCaptchaSolved:"&",onFunCaptchaLoaded:"&",onFunCaptchaSuppress:"&",onFunCaptchaShown:"&",onFunCaptchaClosed:"&",captchaType:"=",credentialsValue:"=",credentialsType:"=",showInModal:"="},templateUrl:t.fcTemplate,link:function(n,i){function r(){n.showInModal&&(n.showContainer=!1,(s=o.open({templateUrl:t.fcModalTemplate,keyboard:!1,backdrop:"static"})).rendered.then((function(){c=angular.element("#funcaptcha-modal-body"),d=angular.element("#"+n.captchaElem.id).detach(),c.append(d),n.showContainer=!0})),s.result.then((function(){i.append(angular.element("#"+n.captchaElem.id).detach()),n.showContainer=!1,n.onFunCaptchaClosed&&n.onFunCaptchaClosed()}))),n.onFunCaptchaShown&&n.onFunCaptchaShown()}function l(){n.showInModal&&s&&s.close(),n.onFunCaptchaSolved&&n.onFunCaptchaSolved()}var s,c,d,u,p=n.captchaModel;n.captchaElem={id:p.id},n.showContainer=!0,u=n.$watch((function(){return p.isActivated}),(function(o){if(o){var t={successCb:n.onFunCaptchaSuccess||angular.noop,errorCb:function(e){n.onFunCaptchaError&&n.onFunCaptchaError({errorCode:e})},solvedCb:l,loadedCb:n.onFunCaptchaLoaded||angular.noop,suppressCb:n.onFunCaptchaSuppress||angular.noop,shownCb:r,cType:n.captchaType};if(!t.cType)return void e.debug("[Captcha Error] captcha type cannot be empty");p.extraValidationParams?t.extraValidationParams=p.extraValidationParams:n.credentialsValue&&n.credentialsType&&(t.extraValidationParams={credentialsValue:n.credentialsValue,credentialsType:n.credentialsType}),a.render(n.captchaElem.id,t),p.isActivated=!1}}),!0),n.$on("$destroy",(function(){u&&u()}))}}}]);var formEvents=angular.module("roblox.formEvents",[]);formEvents.directive("rbxFormInteraction",(function(){return{require:"^form",restrict:"A",link:function(e,o,t,a){var n=t.sendInputValue;o.bind("blur",(function(){if(Roblox.FormEvents){var e,o=angular.element(this);n&&(e=o.val()),Roblox.FormEvents.SendInteractionOffFocus(a.context,o.attr("name"),e)}})).bind("focus",(function(){Roblox.FormEvents&&Roblox.FormEvents.SendInteractionFocus(a.context,angular.element(this).attr("name"))}))}}})),formEvents.directive("rbxFormContext",(function(){return{require:"form",restrict:"A",link:function(e,o,t,a){var n=a.$name;a.context=t.context+n.charAt(0).toUpperCase()+n.substr(1)}}})),robloxApp.constant("urlConstants",{urlQueryStringPrefix:"?",urlQueryParameterSeparator:"&",hashSign:"#"}),robloxApp.constant("phoneConstants",{templates:{verifyPhoneModal:"verify-phone-modal"},urls:{phonePrefixes:"/v1/countries/phone-prefix-list",addPhone:"/v1/phone",verifyPhone:"/v1/phone/verify",resendCode:"/v1/phone/resend"},modalTypes:{addPhone:"addPhone",verifyPhone:"verifyPhone"},minimumPhoneLength:4,underscore:"_",phonePrefixCharacter:"+",defaultCountryCode:"US",unitedStatesPrefix:{name:"United States",localizedName:"United States",code:"US",prefix:1}}),robloxApp.factory("phoneService",["$q","httpService","phoneConstants",function(e,o,t){var a=t.urls.phonePrefixes,n=t.defaultCountryCode;return{getPhonePrefixes:function(e){var t={url:e+a};return o.httpGet(t,null).then((function(e){var o;return _.reject(e,(function(e){return e.code===n&&(o=e,!0)})),o&&e.unshift(o),e}))},addPhone:function(e){var a={url:Roblox.EnvironmentUrls.accountInformationApi+t.urls.addPhoneV2},n={countryCode:e.countryCode,prefix:e.prefix,phone:e.phone,password:e.password};return o.httpPost(a,n)},verifyPhone:function(e){var a={url:Roblox.EnvironmentUrls.accountInformationApi+t.urls.verifyPhoneV2},n={code:e.code};return o.httpPost(a,n)},resendCode:function(){var e={url:Roblox.EnvironmentUrls.accountInformationApi+t.urls.resendCodeV2};return o.httpPost(e)},isPhoneNumber:function(e){return!(!e||e.length<t.minimumPhoneLength)&&(!!/\d/.test(e)&&/^[\d|\W|_]+$/.test(e))}}}]),void 0===Roblox&&(Roblox={}),void 0===Roblox.GenericConfirmation&&(Roblox.GenericConfirmation=function(){function e(e){e.hasClass(l)?e.addClass(d):e.hasClass(i)?e.addClass(s):e.hasClass(r)&&e.addClass(c)}function o(e){return!!(e.hasClass(c)||e.hasClass(d)||e.hasClass(s))}function t(e){f.isOpen=!1,void 0!==e?$.modal.close(e):$.modal.close()}function a(e){t(),"function"==typeof e&&e()}function n(e){if("function"==typeof e){var o=e();if("undefined"!==o&&0==o)return!1}t()}var i="btn-primary",r="btn-neutral",l="btn-negative",s="btn-disabled-primary",c="btn-disabled-neutral",d="btn-disabled-negative",u="#roblox-confirm-btn",p="#roblox-decline-btn",f={isOpen:!1},b={overlayClose:!0,escClose:!0,opacity:80,overlayCss:{backgroundColor:"#000"},onClose:function(){f.isOpen=!1,t()}};return{open:function(e){var t,i,s,c,d;f.isOpen=!0,t={titleText:"",bodyContent:"",footerText:"",acceptText:Roblox.Resources.GenericConfirmation.yes,declineText:Roblox.Resources.GenericConfirmation.No,acceptColor:r,declineColor:l,xToCancel:!1,onAccept:function(){return!1},onDecline:function(){return!1},onCancel:function(){return!1},imageUrl:null,allowHtmlContentInBody:!1,allowHtmlContentInFooter:!1,dismissable:!0,fieldValidationRequired:!1,onOpenCallback:function(){}},e=$.extend({},t,e),b.overlayClose=e.dismissable,b.escClose=e.dismissable,(i=$(u)).html(e.acceptText),i.attr("class","btn-large "+e.acceptColor),i.unbind(),i.bind("click",(function(){return o(i)||(e.fieldValidationRequired?n(e.onAccept):a(e.onAccept)),!1})),(s=$(p)).html(e.declineText),s.attr("class","btn-large "+e.declineColor),s.unbind(),s.bind("click",(function(){return o(s)||a(e.onDecline),!1})),$('[data-modal-handle="confirmation"] div.Title').text(e.titleText),c=$("[data-modal-handle='confirmation']"),null==e.imageUrl?c.addClass("noImage"):(c.find("img.GenericModalImage").attr("src",e.imageUrl),c.removeClass("noImage")),e.allowHtmlContentInBody?$("[data-modal-handle='confirmation'] div.Message").html(e.bodyContent):$("[data-modal-handle='confirmation'] div.Message").text(e.bodyContent),""==$.trim(e.footerText)?$('[data-modal-handle="confirmation"] div.ConfirmationModalFooter').hide():$('[data-modal-handle="confirmation"] div.ConfirmationModalFooter').show(),e.allowHtmlContentInFooter?$('[data-modal-handle="confirmation"] div.ConfirmationModalFooter').html(e.footerText):$('[data-modal-handle="confirmation"] div.ConfirmationModalFooter').text(e.footerText),$("[data-modal-handle='confirmation']").modal(b),(d=$("a.genericmodal-close")).unbind(),d.bind("click",(function(){return a(e.onCancel),!1})),e.xToCancel||d.hide(),e.onOpenCallback()},close:t,disableButtons:function(){var o=$(u),t=$(p);e(o),e(t)},enableButtons:function(){var e=$(u),o=$(p),t=c+" "+d+" "+s;e.removeClass(t),o.removeClass(t)},clickYes:function(){f.isOpen&&$(u).click()},clickNo:function(){$(p).click()},status:f,green:i,blue:r,gray:l,none:"btn-none"}}()),$(document).keypress((function(e){Roblox.GenericConfirmation.status.isOpen&&13===e.which&&Roblox.GenericConfirmation.clickYes()})),(Roblox=Roblox||{}).DeviceMeta=function(){var e=document.querySelector('meta[name="device-meta"]');if(null!==e){var o=e.dataset||{},t={android:"android",ios:"ios",xbox:"xbox",uwp:"uwp",amazon:"amazon",win32:"win32",universalapp:"universalApp",unknown:"unknown"},a={computer:"computer",tablet:"tablet",phone:"phone",console:"console"};return function(){return{deviceType:a[o.deviceType]||"",appType:t[o.appType]||"",isInApp:"true"===o.isInApp,isDesktop:"true"===o.isDesktop,isPhone:"true"===o.isPhone,isTablet:"true"===o.isTablet,isConsole:"true"===o.isConsole,isAndroidApp:"true"===o.isAndroidApp,isIosApp:"true"===o.isIosApp,isUWPApp:"true"===o.isUwpApp,isXboxApp:"true"===o.isXboxApp,isAmazonApp:"true"===o.isAmazonApp,isWin32App:"true"===o.isWin32App,isStudio:"true"===o.isStudio,isIosDevice:"true"===o.isIosDevice,isAndroidDevice:"true"===o.isAndroidDevice,isUniversalApp:"true"===o.isUniversalApp}}}console.debug("Error loading device information from meta tag - please check if meta tag is present")}(),Roblox&&Roblox.BundleDetector&&Roblox.BundleDetector.bundleDetected("page");