!function(){var e={779:function(e,t){var n;
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/!function(){"use strict";var r={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n;if("string"==o||"number"==o)e.push(n);else if(Array.isArray(n)&&n.length){var i=a.apply(null,n);i&&e.push(i)}else if("object"==o)for(var c in n)r.call(n,c)&&n[c]&&e.push(c)}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(n=function(){return a}.apply(t,[]))||(e.exports=n)}()},635:function(e){e.exports='module.exports = __webpack_public_path__ + "../html/navigation.html";'}},t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){"use strict";var e=React,t=n.n(e),r=CoreUtilities,a=ReactDOM,o=Roblox,i=n.n(o),c=HeaderScripts,l=ReactUtilities,u={arrowUp:38,arrowDown:40,tab:9,enter:13},s={name:"Roblox.Logout"},f=1,m={clickMerchandise:"clickMerchandiseInLeftNav",goToAmazonStore:"clickContinueToAmazonStore"},p="FriendshipNotifications",d="Roblox.Friends.CountChanged",b={name:"Roblox.Messages.CountChanged"},v={name:"headerMenuIconClick"},y="quickLogin",g="logout",h="settings",S={common:["CommonUI.Features","Common.AlertsAndOptions"],feature:"Feature.ShopDialog"},E=PropTypes,w=n.n(E),O=n(779),C=n.n(O),x=ReactStyleGuide,A=RobloxThumbnails,I=RobloxBadges,k=o.Endpoints.getAbsoluteUrl,j=o.EnvironmentUrls.authApi,N={url:k("/discover/?Keyword="),label:"Label.Experience",pageSort:["home","games","discover"],icon:"icon-menu-games-off"},T={url:k("/catalog?CatalogContext=1&Keyword="),label:"Label.AvatarShop",pageSort:["catalog","inventory","bundles","my/avatar","trades"],icon:"icon-menu-shop"},R=(E=[{url:k("/search/users?keyword="),label:"Label.Players",pageSort:["users"],icon:"icon-menu-profile"},T,{url:k("/search/groups?keyword="),label:"Label.sGroups",pageSort:["groups"],icon:"icon-menu-groups"},{url:k("/develop/library?CatalogContext=2&Category=6&Keyword="),label:"Label.CreatorMarketplace",pageSort:["develop"],icon:"icon-menu-library"}],{creatorMarketplaceUrl:"https://create.".concat(o.EnvironmentUrls.domain,"/marketplace/models?keyword="),scrollListItems:{home:{url:k("/"),idSelector:"nav-home",iconClass:"icon-nav-home",name:"home",labelTranslationKey:"Label.sHome"},profile:{url:k("/users/".concat(c.authenticatedUser.id,"/profile")),idSelector:"nav-profile",iconClass:"icon-nav-profile",name:"profile",labelTranslationKey:"Label.sProfile"},messages:{url:k("/my/messages/#!/inbox"),urlForNotification:k("/my/messages/#!/inbox"),idSelector:"nav-message",iconClass:"icon-nav-message",name:"messages",labelTranslationKey:"Label.sMessages"},friends:{url:k("/users/friends"),urlForNotification:k("/users/friends#!/friend-requests"),idSelector:"nav-friends",iconClass:"icon-nav-friends",name:"friends",labelTranslationKey:"Label.sFriends"},avatar:{url:k("/my/avatar"),idSelector:"nav-character",iconClass:"icon-nav-charactercustomizer",name:"avatar",labelTranslationKey:"Label.sAvatar"},inventory:{url:k("/users/".concat(c.authenticatedUser.id,"/inventory")),idSelector:"nav-inventory",iconClass:"icon-nav-inventory",name:"inventory",labelTranslationKey:"Label.sInventory"},trade:{url:k("/trades"),urlForNotification:k("/trades"),idSelector:"nav-trade",iconClass:"icon-nav-trade",name:"trade",labelTranslationKey:"Label.sTrade"},groups:{url:k("/my/groups"),idSelector:"nav-group",iconClass:"icon-nav-group",name:"groups",labelTranslationKey:"Label.sGroups"},blog:{url:k("https://blog.roblox.com"),idSelector:"nav-blog",iconClass:"icon-nav-blog",name:"blog",labelTranslationKey:"Label.sBlog"},shop:{isModal:!0,idSelector:"nav-shop",iconClass:"icon-nav-shop",name:"shop",labelTranslationKey:"Label.OfficialStore"},giftcards:{url:k("/giftcards-us"),idSelector:"nav-giftcards",iconClass:"icon-nav-giftcards",name:"giftcards",labelTranslationKey:"Label.GiftCards"}},upgradeButton:{url:k("/premium/membership?ctx=leftnav"),labelTranslationKey:c.authenticatedUser.isPremiumUser?"ActionsPremium":"ActionsGetPremium"},sponsorEvents:{label:{labelTranslationKey:"Label.sEvents"},events:{}},gameSearchLink:N,avatarSearchLink:T,miscSearchLink:E,universalSearchUrls:[{url:k("/search/users?keyword="),label:"Label.Players",pageSort:[]},{url:k("/discover/?Keyword="),label:"Label.Experience",pageSort:["home","games","discover"]},{url:k("/catalog/browse.aspx?CatalogContext=1&Keyword="),label:"Label.sCatalog",pageSort:["catalog","inventory","bundles"]},{url:k("/search/groups?keyword="),label:"Label.sGroups",pageSort:["groups"]},{url:k("/develop/library?CatalogContext=2&Category=6&Keyword="),label:"Label.CreatorMarketplace",pageSort:["develop"]}],newUniversalSearchUrls:[N].concat(E),settingsUrl:{settings:{url:k("/my/account"),label:"Label.sSettings"},quickLogin:{url:k("/home"),label:"Label.sQuickLogin"},help:{url:k("/info/help?locale="),label:"Label.sHelp"},logout:{url:"".concat(j,"/v2/logout"),label:"Label.sLogout"}},buyRobuxUrl:{robuxBalance:{url:k("/transactions"),label:"Label.sRobuxMessage"},buyRobux:{url:k("/upgrades/robux?ctx=navpopover"),label:"Label.sBuyRobux"}},userDataUrl:k("/navigation/userData"),quickLoginUrl:k("/crossdevicelogin/ConfirmCode")}),P=o.Endpoints.getAbsoluteUrl,L=o.EnvironmentUrls.authApi,U=o.EnvironmentUrls.accountSettingsApi,D=o.EnvironmentUrls.websiteUrl,q=o.EnvironmentUrls.adsApi,M=o.EnvironmentUrls.economyApi,B=o.EnvironmentUrls.privateMessagesApi,F=o.EnvironmentUrls.tradesApi,K=o.EnvironmentUrls.friendsApi,Q=(O=(o.EnvironmentUrls.apiGatewayUrl,function(){return P("/account/signupredir")}),T=function(){return D},N=function(){return P("/")},E=function(e,t){return P("/".concat(e.toLowerCase(),"/").concat(t))},j=function(){return P("/login")},function(e){return"".concat(M,"/v1/users/").concat(e,"/currency")}),G=function(){var e={url:"".concat(B,"/v1/messages/unread/count"),withCredentials:!0};return r.httpService.get(e)},_=function(){var e={url:"".concat(K,"/v1/user/friend-requests/count"),withCredentials:!0};return r.httpService.get(e)},V=function(){var e={url:"".concat(L,"/v2/passwords/current-status"),withCredentials:!0};return r.httpService.get(e)},z=function(){var e={url:"".concat(U,"/v1/email"),withCredentials:!0};return r.httpService.get(e)},$=CoreRobloxUtilities;function H(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var W=$.dataStores.userDataStore.maxFriendRequestNotificationCount;function X(e){var n=e.translate,a=e.idSelector,o=e.isModal,i=e.name,c=e.iconClass,l=e.labelTranslationKey,u=e.url,s=e.urlForNotification,f=e.onClickShopLink,m=e.friendsData,p=e.messagesData,d=e.tradeData;u=null!=(e=(H(e={},R.scrollListItems.friends.name,m),H(e,R.scrollListItems.messages.name,p),H(e,R.scrollListItems.trade.name,d),e)[i])&&e.count?s:u;return o?t().createElement("li",{key:i},t().createElement("button",{id:a,type:"button",onClick:f,className:"dynamic-overflow-container text-nav"},t().createElement("div",null,t().createElement("span",{className:c})),t().createElement("span",{className:"font-header-2 dynamic-ellipsis-item"},n(l)))):t().createElement("li",{key:i},t().createElement(x.Link,{url:u,id:a,className:"dynamic-overflow-container text-nav"},t().createElement("div",null,t().createElement("span",{className:c})),t().createElement("span",{className:"font-header-2 dynamic-ellipsis-item"},n(l)),e&&0<e.count&&t().createElement("div",{className:"dynamic-width-item align-right"},t().createElement("span",{className:"notification-blue notification",title:r.numberFormat.getNumberFormat(e.count)},function(e,t){return e===R.scrollListItems.friends.name&&W<=t?"".concat(W,"+"):r.abbreviateNumber.getTruncValue(t,1e3)}(i,e.count)))))}X.defaultProps={idSelector:"",url:"",urlForNotification:"",isModal:!1,friendsData:{count:0},messagesData:{count:0},tradeData:{count:0}},X.propTypes={idSelector:w().string,translate:w().func.isRequired,isModal:w().bool,name:w().string.isRequired,iconClass:w().string.isRequired,labelTranslationKey:w().string.isRequired,url:w().string,urlForNotification:w().string,onClickShopLink:w().func.isRequired,friendsData:w().shape({count:w().number}),messagesData:w().shape({count:w().number}),tradeData:w().shape({count:w().number})};var J=X,Y=(k=$.eventStreamService.eventTypes,E),Z={name:"sponsoredEventClicked",type:k.pageLoad,context:"click"};function ee(e){var n=e.translate;e=e.sponsoredPagesData.map((function(e){var n=e.title,r=e.name,a=e.pageType;return(e=e.logoImageUrl)?t().createElement("li",{key:r,className:"rbx-nav-sponsor","ng-non-bindable":"true"},t().createElement("a",{className:"text-nav menu-item",href:Y(a,r),title:n,onClick:function(){return e=n,void($.eventStreamService&&$.eventStreamService.sendEvent(Z,{sponsoredPageName:e}));var e}},e?t().createElement("img",{src:e,alt:""}):t().createElement("span",null,n))):null}));return t().createElement(t().Fragment,null,t().createElement("li",{className:"font-bold small text-nav"}," ",n("Label.sEvents")),e)}ee.defaultProps={sponsoredPagesData:[]},ee.propTypes={translate:w().func.isRequired,sponsoredPagesData:w().instanceOf(Array)};var te=ee;function ne(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function re(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ae(n){var a=c.authenticatedUser.isAuthenticated,o=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return re(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?re(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,e.useState)([]),2),i=o[0],l=o[1];return(0,e.useEffect)((function(){a&&function(){var e={url:"".concat(q,"/v1/sponsored-pages"),withCredentials:!0};return r.httpService.get(e).then((function(e){return null==e?void 0:e.data})).catch((function(e){console.error(e)}))}().then((function(e){e=(null!==(e=null==e?void 0:e.data)&&void 0!==e?e:[]).filter((function(e){var t,n;return!(null!=e&&null!==(t=e.name)&&void 0!==t&&t.includes("giftcards")||null!=e&&null!==(n=e.title)&&void 0!==n&&n.includes("giftcards"))})),l(e)}),(function(e){console.debug(e)}))}),[a]),t().createElement(te,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(n),!0).forEach((function(t){var r,a;r=e,t=n[a=t],a in r?Object.defineProperty(r,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[a]=t})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({sponsoredPagesData:i},n))}k=angular;var oe=n.n(k);function ie(e){return function(e){if(Array.isArray(e))return ue(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||le(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ce(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}}(e,t)||le(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function le(e,t){if(e){if("string"==typeof e)return ue(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ue(e,t):void 0}}function ue(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function se(e){var t=(r=ve(Se())).host,n=r.hostname,r=(a=ve(e,!1,!0)).host,a=a.hostname;return e&&r&&r===t||a&&a===n||!r&&!a}function fe(){return function(){var e={url:"".concat(L,"/v2/logout"),withCredentials:!0};return r.httpService.post(e)}().then((function(){window.location.href=Ee()}))}var me=R.universalSearchUrls,pe=R.newUniversalSearchUrls,de=R.avatarSearchLink,be=r.urlService.getQueryParam,ve=r.urlService.parseUrl,ye=r.urlService.composeQueryString,ge=O,he=j,Se=T,Ee=N,we=f,Oe=s,Ce=!c.authenticatedUser.isAuthenticated,xe=(k=function(){var e=c.authenticatedUser.created;return Promise.all([z(),V()]).then((function(t){var n=ce(t,2),r=n[0].data.verified,a=n[1].data.valid;return t=e,n=r,r=new Date,t=new Date(t),+(we<(r-t)/864e5&&!n)+ +!a})).catch((function(e){console.debug(e)}))},O=function(){var e=be("returnUrl")||window.location.href,t=ge();return se(e)?"".concat(t,"?").concat(ye({returnUrl:e})):t},j=function(){var e=be("returnUrl")||window.location.href,t=he();return se(e)?"".concat(t,"?").concat(ye({returnUrl:e})):t},T=function(e){e.stopPropagation(),e.preventDefault(),document.dispatchEvent(new CustomEvent(Oe.name)),oe().isUndefined(oe().element("#chat-container").scope())||(e=oe().element("#chat-container").scope()).$digest(e.$broadcast("Roblox.Chat.destroyChatCookie")),null!==o.EmailVerificationService&&void 0!==o.EmailVerificationService&&o.EmailVerificationService.handleUserEmailUpsellAtLogout(fe).then((function(e){e&&!e.emailAddress||fe()}))},N=fe,function(e){o.EventStream&&o.EventStream.SendEventWithTarget(e,"click",{},o.EventStream.TargetTypes.WWW)}),Ae=function(e){if(Ce||!o.RealTime)return function(){};document.addEventListener(d,e);var t=o.RealTime.Factory.GetClient();return t.Subscribe(p,e),function(){document.removeEventListener(d,e),t.Unsubscribe(p,e)}},Ie=function(e){return Ce||!o.RealTime?function(){}:(document.addEventListener(b,e),function(){document.removeEventListener(b,e)})},ke=function(){var e;return null!==(e=(null===(e=window)||void 0===e?void 0:e.innerWidth)<543)&&e},je=(f=function(){var e;return!(e=null!==(e=null==(e=(null===(e=window)||void 0===e?void 0:e.location).pathname)?void 0:e.toLowerCase())&&void 0!==e?e:"").startsWith("/login")&&!e.startsWith("/newlogin")},function(){var e=ie(me);return e.sort((function(e){return e.pageSort.reduce((function(e,t){return e||-1<window.location.href.indexOf(t)}),!1)?-1:1})),e}),Ne=function(){var e=(t=ie(pe)).filter((function(e){return e.pageSort.some((function(e){return-1<window.location.pathname.indexOf(e)}))})),t=t.filter((function(e){return e.pageSort.every((function(e){return-1===window.location.pathname.indexOf(e)}))}));return[].concat(ie(e),ie(t))},Te=function(){return document.getElementById("navigation-container")&&document.getElementById("navigation-container").className};function Re(){return(Re=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Pe(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function Le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pe(Object(n),!0).forEach((function(t){var r,a;r=e,t=n[a=t],a in r?Object.defineProperty(r,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[a]=t})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ue(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var De=m;function qe(n){var r=n.translate,a=function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],0<=t.indexOf(n)||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols)for(var a=Object.getOwnPropertySymbols(e),o=0;o<a.length;o++)n=a[o],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(n,["translate"]),i=(f=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ue(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ue(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,e.useState)(!1),2))[0],c=f[1],l=(0,e.useCallback)((function(){c((function(e){return!e})),xe(De.clickMerchandise)}),[]),u=function(){c(!1)},s=Object.values(R.scrollListItems).map((function(e){return t().createElement(J,Re({key:e.name},Le(Le({translate:r,onClickShopLink:l},e),a)))})),f=(n=t().createElement("li",{className:"rbx-upgrade-now"},t().createElement("a",{href:R.upgradeButton.url,className:"btn-growth-md btn-secondary-md",id:"upgrade-now-button"},r(R.upgradeButton.labelTranslationKey))),t().createElement(t().Fragment,null,t().createElement("p",{className:"shop-description"},r("Description.RetailWebsiteRedirect")),t().createElement("p",{className:"shop-warning"},r("Description.PurchaseAgeWarning"))));u=t().createElement(x.SimpleModal,{title:r("Heading.LeavingRoblox"),body:f,show:i,actionButtonShow:!0,actionButtonText:r("Action.Continue"),neutralButtonText:r("Action.Cancel"),onAction:function(){var e=decodeURIComponent(o.EnvironmentUrls.amazonWebStoreLink);window.open(e,"_blank"),xe(De.goToAmazonStore)},onNeutral:u,onClose:u});return t().createElement("ul",{className:"left-col-list"},s,n,t().createElement(ae,{translate:r}),u)}qe.defaultProps={sponsoredPagesData:[]},qe.propTypes={sponsoredPagesData:w().instanceOf(Array),translate:w().func.isRequired};var Me=qe;function Be(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function Fe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ke(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ke(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ke(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Qe(n){var a=c.authenticatedUser.isAuthenticated,o=Fe((0,e.useState)({}),2),i=o[0],l=o[1],u=(f=Fe((0,e.useState)({}),2))[0],s=f[1],f=(o=Fe((0,e.useState)({}),2))[0],m=o[1];return(0,e.useEffect)((function(){var e=function(){},t=function(){};return a&&(e=Ae((function(){_().then((function(e){e=e.data,l(e)}),(function(e){console.debug(e)}))})),t=Ie((function(){G().then((function(e){e=e.data,s(e)}))})),_().then((function(e){e=e.data,l(e)}),(function(e){console.debug(e)})),G().then((function(e){e=e.data,s(e)}),(function(e){console.debug(e)})),function(){var e={url:"".concat(F,"/v1/trades/inbound/count"),withCredentials:!0};return r.httpService.get(e)}().then((function(e){e=e.data,m(e)}),(function(e){console.debug(e)}))),function(){e(),t()}}),[]),t().createElement(Me,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Be(Object(n),!0).forEach((function(t){var r,a;r=e,t=n[a=t],a in r?Object.defineProperty(r,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[a]=t})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Be(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({friendsData:i,messagesData:u,tradeData:f},n))}var Ge=c.authenticatedUser.name,_e=(E=c.authenticatedUser.displayName,{nameForDisplay:null!==o.DisplayNames&&void 0!==o.DisplayNames&&o.DisplayNames.Enabled()?E:Ge,nameForHeader:null!==o.DisplayNames&&void 0!==o.DisplayNames&&o.DisplayNames.Enabled()?r.concatTexts.concat(["",Ge]):Ge});function Ve(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ze(n){var r=n.isLeftNavOpen,a=function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],0<=t.indexOf(n)||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols)for(var a=Object.getOwnPropertySymbols(e),o=0;o<a.length;o++)n=a[o],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(n,["isLeftNavOpen"]),o=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ve(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ve(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,e.useState)(!1),2),i=(n=o[0],o[1]);return(0,e.useEffect)((function(){(0,I.robloxBadgesReadyForRender)().then((function(e){return i(e&&(0,I.currentUserHasVerifiedBadge)())}))}),[]),n=n&&I.VerifiedBadgeIcon?t().createElement(I.VerifiedBadgeIcon,{overrideImgClass:"verified-badge-icon-header",size:I.BadgeSizes.CAPTIONHEADER,titleText:I.translatedVerifiedBadgeTitleText}):null,r=C()("rbx-left-col",{"nav-show":r}),t().createElement("div",{id:"navigation",className:r},t().createElement("ul",null,t().createElement("li",{key:"username"},t().createElement(x.Link,{className:"dynamic-overflow-container text-nav",role:"link",url:R.scrollListItems.profile.url},t().createElement("span",{className:"avatar avatar-headshot-xs"},t().createElement(A.Thumbnail2d,{containerClass:"avatar-card-image",targetId:c.authenticatedUser.id,type:A.ThumbnailTypes.avatarHeadshot,altName:c.authenticatedUser.name})),t().createElement("div",{className:"font-header-2 dynamic-ellipsis-item"},_e.nameForDisplay),n)),t().createElement("li",{key:"divider",className:"rbx-divider"})),t().createElement(x.ScrollBar,{className:"rbx-scrollbar"},t().createElement(Qe,a)))}ze.propTypes={isLeftNavOpen:w().bool.isRequired};var $e=ze;function He(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function We(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Xe=v;function Je(){return document.getElementById("navigation-container")}var Ye,Ze=(0,l.withTranslations)((function(n){var r=c.authenticatedUser.isAuthenticated,a=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return We(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?We(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,e.useState)(!1),2),o=a[0],i=a[1],l=(0,e.useCallback)((function(){i(!o)}),[o]);return(0,e.useEffect)((function(){return document.addEventListener(Xe.name,l),function(){document.removeEventListener(Xe.name,l)}}),[l]),r?t().createElement($e,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?He(Object(n),!0).forEach((function(t){var r,a;r=e,t=n[a=t],a in r?Object.defineProperty(r,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[a]=t})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):He(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({isLeftNavOpen:o},n)):null}),S),et=(s=o.EnvironmentUrls.apiGatewayUrl,m=o.EnvironmentUrls.apiGatewayCdnUrl,o.EnvironmentUrls.localeApi,{experimentLayer:"Website.TopNavSearchBox",debounceTimeout:100,debouncedSearchInputMaxLength:35,expiryTimeout:5e3,variationId:1,trendingVariationId:0,avatarAutocompleteQueryPaddingAmount:10,requestSuggestionUrl:{url:s+"/games-autocomplete/v1/request-suggestion",withCredentials:!0},getSuggestionUrl:{url:s+"/games-autocomplete/v1/get-suggestion/",withCredentials:!0},avatarRequestSuggestionUrl:{url:s+"/autocomplete-avatar/v2/suggest",withCredentials:!0},avatarRequestSuggestionCdnUrl:{url:m+"/autocomplete-avatar/v2/suggest",withCredentials:!0},englishLanguageCode:"en",avatarAutocompleteUrlLocations:["Catalog","Trades","Inventory","Avatar","CatalogItem"],avatarAutocompleteSuggestionLimit:5,isSpecialTreatmentAutocompleteRestricted:function(){return 7===parseInt(Je().dataset.numberOfAutocompleteSuggestions,10)&&R.miscSearchLink.reduce((function(e,t){return e.push.apply(e,t.pageSort),e}),[]).reduce((function(e,t){return e||-1<window.location.pathname.indexOf(t)}),!1)},isSpecialTreatment:function(){var e;return 7===parseInt(null===(e=Je())||void 0===e?void 0:e.dataset.numberOfAutocompleteSuggestions,10)},numberOfSpecialTreatmentAutocompleteSuggestions:3,isAutocompleteSuggestionsIXPTestEnabled:function(){var e;return 0<parseInt(null===(e=Je())||void 0===e?void 0:e.dataset.numberOfAutocompleteSuggestions,10)},numberOfAutocompleteSuggestions:function(){var e;return parseInt(null===(e=Je())||void 0===e?void 0:e.dataset.numberOfAutocompleteSuggestions,10)||0},isRedirectLibraryToCreatorMarketplaceEnabled:function(){var e;return"True"===(null===(e=Je())||void 0===e?void 0:e.dataset.isRedirectLibraryToCreatorMarketplaceEnabled)}}),tt=function(){return(tt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},nt=function(e,t,n,r){return new(n=n||Promise)((function(a,o){function i(e){try{l(r.next(e))}catch(e){o(e)}}function c(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?a(e.value):((t=e.value)instanceof n?t:new n((function(e){e(t)}))).then(i,c)}l((r=r.apply(e,t||[])).next())}))},rt=function(e,t){var n,r,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i={next:c(0),throw:c(1),return:c(2)};return"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=0<(a=o.trys).length&&a[a.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},at=r.httpService.createCancelToken();function ot(e){return void 0===(null==e?void 0:e.label)}function it(e){return void 0!==(null==e?void 0:e.Query)}function ct(e){if(it(e))return"avatar";switch(e.type){case Ye.QuerySuggestion:return"keyword";case Ye.GameSuggestion:return"game";default:throw Error("Unrecognized autocomplete suggestion, ".concat(JSON.stringify(e)))}}function lt(e){switch(e.label){case"Label.Players":return"defaultPlayers";case"Label.AvatarShop":case"Label.sCatalog":return"defaultShops";case"Label.sGroups":return"defaultGroups";case"Label.CreatorMarketplace":return"defaultLibrary";case"Label.Experience":return"defaultGames";default:throw Error("Unrecognized default suggestion, ".concat(JSON.stringify(e)))}}(m=Ye=Ye||{})[m.GameSuggestion=0]="GameSuggestion",m[m.QuerySuggestion=1]="QuerySuggestion",m[m.TrendingQuerySuggestion=2]="TrendingQuerySuggestion";var ut=function(e){return nt(void 0,void 0,Promise,(function(){return rt(this,(function(t){switch(t.label){case 0:return at.cancel(),at=r.httpService.createCancelToken(),[4,r.httpService.get(tt(tt({},et.getSuggestionUrl),{url:et.getSuggestionUrl.url+encodeURIComponent(e.toLowerCase()),cancelToken:at.token}))];case 1:return[2,t.sent().data]}}))}))},st=function(e,t,n,a,o){return void 0===o&&(o=!1),nt(void 0,void 0,Promise,(function(){var i;return rt(this,(function(c){switch(c.label){case 0:return null===(i=t)&&(i=et.englishLanguageCode),i={prefix:e.toLowerCase(),limit:n,lang:i,q:a},at.cancel(),at=r.httpService.createCancelToken(),o?[4,r.httpService.get(tt(tt({},et.avatarRequestSuggestionUrl),{timeout:et.expiryTimeout,cancelToken:at.token,fullError:!0}),i)]:[3,2];case 1:return[2,c.sent().data];case 2:return[4,r.httpService.get(tt(tt({},et.avatarRequestSuggestionCdnUrl),{timeout:et.expiryTimeout,cancelToken:at.token,fullError:!0}),i)];case 3:return[2,c.sent().data]}}))}))},ft=ot,mt=it,pt=ct,dt=lt,bt=function(e,t){return e.map((function(e){return ot(e)?"".concat(ct(e),"|").concat(e.searchQuery):"".concat(lt(e),"|").concat(t)})).join(",")},vt=$.eventStreamService.eventTypes,yt="searchAutocomplete",gt={actionTypes:{open:"open",submit:"submit",close:"close"},generateSessionInfo:r.uuidService.generateRandomUuid,searchTextTrim:function(e,t,n,r){return[{name:"searchTextTrim",type:vt.formInteraction,context:yt},{kwd:e,resultingKwd:t,searchType:n,sessionInfo:r}]},searchClear:function(e,t,n,r){return[{name:"searchClear",type:vt.formInteraction,context:yt},{kwd:e,searchType:t,sessionInfo:n,page:r}]},searchSuggestionClicked:function(e,t,n,r,a,o,i){return[{name:"searchSuggestionClicked",type:vt.formInteraction,context:yt},{kwd:e,searchType:t,suggestionPosition:n,suggestionClicked:r,suggestionType:a,suggestions:o,sessionInfo:i}]},searchAutocomplete:function(e,t,n,r,a,o,i,c,l,u){return[{name:"searchAutocomplete",type:vt.formInteraction,context:yt},{kwd:e,previousKwd:t,fromLocalCache:n,suggestions:r,algorithm:a,latency:o,timeoutDelayMs:i,sessionInfo:c,page:l,isPersonalizedBasedOnPreviousQuery:u}]},search:function(e,t,n){return[{name:"search",type:vt.formInteraction,context:yt},{kwd:e,actionType:t,sessionInfo:n}]},catalogSearch:function(e,t){return[{name:"catalogSearch",type:vt.formInteraction,context:yt},{autocompleteFlag:e,previousPage:t}]}};function ht(e,t){if(e){if("string"==typeof e)return St(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?St(e,t):void 0}}function St(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Et(e){var n,r=e.translate,a=e.searchInput,o=e.indexOfSelectedOption,i=e.autocompleteSessionInfo,c=e.resetAutocompleteSessionInfo,l=je();return t().createElement(t().Fragment,null,Object.entries(l).map((function(e){var u=(f=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}}(e,t)||ht(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,2))[0],s=f[1],f=(e=s.url,s.label);return"Label.sCatalog"===(n=f)&&(n="Label.AvatarShop"),f=C()("navbar-search-option rbx-clickable-li",parseInt(u,10)===o?" selected":""),t().createElement("li",{key:u,className:f},t().createElement(x.Link,{className:"navbar-search-anchor",url:e+a,onClick:function(){$.eventStreamService.sendEvent.apply($.eventStreamService,function(e){return function(e){if(Array.isArray(e))return St(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||ht(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(gt.searchSuggestionClicked(a,void 0,u,a,dt(s),bt(l,a),i))),c()}},r("Label.sSearchPhrase",{phrase:a,location:r(n)})))})))}Et.propTypes={translate:w().func.isRequired,searchInput:w().string.isRequired,indexOfSelectedOption:w().number.isRequired,autocompleteSessionInfo:w().string.isRequired,resetAutocompleteSessionInfo:w().func.isRequired};var wt=Et;function Ot(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ct=R.gameSearchLink,xt=R.avatarSearchLink,At=R.creatorMarketplaceUrl;function It(n){var r=n.translate,a=n.selected,o=n.suggestion,i=n.onClick,c=C()("navbar-search-option rbx-clickable-li",{"new-selected":a}),l=o.type,u=o.universeId,s=(n=o.searchQuery,o=(a=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ot(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ot(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,e.useState)(!1),2))[0],a[1]);return l===Ye.GameSuggestion?t().createElement("li",{className:c},t().createElement(x.Link,{className:"new-navbar-search-anchor",url:Ct.url+encodeURIComponent(n),onClick:i},t().createElement("span",{className:C()(Ct.icon,"navbar-list-option-icon")}),t().createElement("span",{className:"navbar-list-option-text"},n),t().createElement("span",{className:"navbar-list-option-suffix"},r("Label.sSearchPhraseV2",{location:r(Ct.label)})),t().createElement("span",{className:C()("navbar-list-option-thumbnail",{"navbar-list-option-thumbnail-visible":o})},t().createElement("span",{className:"background-icon"}),t().createElement(A.Thumbnail2d,{type:A.ThumbnailTypes.gameIcon,size:A.DefaultThumbnailSize,targetId:u,containerClass:"thumbnail-icon",format:A.ThumbnailFormat.jpeg,onLoad:function(){s(!0)}})))):t().createElement("li",{className:c},t().createElement(x.Link,{className:"new-navbar-search-anchor",url:Ct.url+encodeURIComponent(n),onClick:i},t().createElement("span",{className:C()(Ct.icon,"navbar-list-option-icon")}),t().createElement("span",{className:"navbar-list-option-text"},n),t().createElement("span",{className:"navbar-list-option-suffix"},r("Label.sSearchPhraseV2",{location:r(Ct.label)}))))}function kt(e){var n=e.translate,r=e.selected,a=e.suggestion;e=e.onClick,r=C()("navbar-search-option rbx-clickable-li",{"new-selected":r}),a=a.Query;return t().createElement("li",{className:r},t().createElement(x.Link,{className:"new-navbar-search-anchor",url:xt.url+encodeURIComponent(a),onClick:e},t().createElement("span",{className:C()(xt.icon,"navbar-list-option-icon")}),t().createElement("span",{className:"navbar-list-option-text"},a),t().createElement("span",{className:"navbar-list-option-suffix"},n("Label.sSearchPhraseV2",{location:n(xt.label)}))))}function jt(e){var n=e.translate,r=e.selected,a=e.searchInput,o=e.suggestion,i=e.onClick,c=o.url;e=o.label,o=o.icon,c=(0,et.isRedirectLibraryToCreatorMarketplaceEnabled)()&&"Label.CreatorMarketplace"===e?At:c,r=C()("navbar-search-option rbx-clickable-li",{"new-selected":r});return t().createElement("li",{className:r},t().createElement(x.Link,{className:"new-navbar-search-anchor",url:c+encodeURIComponent(a),onClick:i},t().createElement("span",{className:C()(o,"navbar-list-option-icon")}),t().createElement("span",{className:"navbar-list-option-text"},a.toLowerCase()),t().createElement("span",{className:"navbar-list-option-suffix"},n("Label.sSearchPhraseV2",{location:n(e)}))))}function Nt(e){return function(e){if(Array.isArray(e))return Tt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Tt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Tt(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Rt(e){function n(e,t){return function(){var n=c[t];$.eventStreamService.sendEvent.apply($.eventStreamService,Nt(gt.searchSuggestionClicked(o,void 0,t,ft(n)?n.searchQuery:o,e,bt(c,o),l))),u(),n=e.includes("default")?0:1,$.eventStreamService.sendEvent.apply($.eventStreamService,Nt(gt.catalogSearch(n,r.pageName.PageNameProvider.getInternalPageName())))}}var a=e.translate,o=e.searchInput,i=e.indexOfSelectedOption,c=e.searchSuggestions,l=e.autocompleteSessionInfo,u=e.resetAutocompleteSessionInfo;return c.map((function(e,r){var c=parseInt(r,10)===i;return ft(e)&&mt(e)?t().createElement(kt,{key:e.Query,translate:a,selected:c,suggestion:e,onClick:n(pt(e),r)}):ft(e)?t().createElement(It,{key:e.searchQuery,translate:a,selected:c,suggestion:e,onClick:n(pt(e),r)}):t().createElement(jt,{key:e.url,translate:a,selected:c,suggestion:e,searchInput:o,onClick:n(dt(e),r)})}))}It.propTypes={translate:w().func.isRequired,selected:w().bool.isRequired,suggestion:w().shape({type:w().number.isRequired,score:w().number.isRequired,universeId:w().number,canonicalTitle:w().string,thumbnailUrl:w().string,searchQuery:w().string.isRequired,trendingSearchStartDateTime:w().string}).isRequired,onClick:w().func.isRequired},kt.propTypes={translate:w().func.isRequired,selected:w().bool.isRequired,suggestion:w().shape({Query:w().string}).isRequired,onClick:w().func.isRequired},jt.propTypes={translate:w().func.isRequired,selected:w().bool.isRequired,searchInput:w().string.isRequired,suggestion:w().shape({url:w().string.isRequired,label:w().string.isRequired,pageSort:w().arrayOf(w().string).isRequired,icon:w().string.isRequired}).isRequired,onClick:w().func.isRequired},Rt.propTypes={translate:w().func.isRequired,searchInput:w().string.isRequired,indexOfSelectedOption:w().number.isRequired,searchSuggestions:w().arrayOf(w().oneOfType([w().shape({type:w().number.isRequired,score:w().number.isRequired,universeId:w().number.isRequired,canonicalTitle:w().string,thumbnailUrl:w().string,searchQuery:w().string.isRequired,trendingSearchStartDateTime:w().string}),w().shape({url:w().string.isRequired,label:w().string.isRequired,pageSort:w().arrayOf(w().string).isRequired,icon:w().string.isRequired}),w().shape({Query:w().string.isRequired,Score:w().number.isRequired})])).isRequired,autocompleteSessionInfo:w().string.isRequired,resetAutocompleteSessionInfo:w().func.isRequired};var Pt=Rt;function Lt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ut(n){var a=n.translate,o=n.searchInput,i=n.isMenuOpen,c=n.openMenu,u=n.closeMenu,s=n.handleSearch,f=n.setIsMenuHover,m=n.indexOfSelectedOption,p=n.onSubmit,d=n.onKeyDown,b=n.onKeyUp,v=n.isUniverseSearchShown,y=n.searchSuggestions,g=n.autocompleteSessionInfo,h=n.resetAutocompleteSessionInfo,S=n.isAvatarAutocompleteEnabled,E=(0,e.createRef)(),w=(0,e.createRef)();n=function(){var e;$.eventStreamService.sendEvent.apply($.eventStreamService,function(e){return function(e){if(Array.isArray(e))return Lt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Lt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Lt(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(gt.searchClear(o,void 0,g,null===r.pageName||void 0===r.pageName||null===(e=r.pageName.PageNameProvider)||void 0===e?void 0:e.getInternalPageName()))),null==E||null!==(e=E.current)&&void 0!==e&&e.focus(),s({target:{value:""}})},v=C()("navbar-left navbar-search col-xs-5 col-sm-6 col-md-2 col-lg-3",{"navbar-search-open":i,shown:v}),S=et.isAutocompleteSuggestionsIXPTestEnabled()||S;return(0,l.useOnClickOutside)([E,w],u),t().createElement("div",{"data-testid":"navigation-search-input",className:v,role:"search"},t().createElement("div",{className:"input-group"},t().createElement("form",{onSubmit:p},S?t().createElement("div",{className:"form-has-feedback"},t().createElement("input",{ref:E,id:"navbar-search-input","data-testid":"navigation-search-input-field",className:"form-control input-field new-input-field",value:o,onChange:s,placeholder:a("Label.sSearch"),maxLength:"120",onFocus:c,onKeyDown:d,onKeyUp:b,autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:"false"}),0<o.length&&t().createElement("span",{"data-testid":"navigation-search-input-clear-button",tabIndex:0,role:"button","aria-label":"Clear Search",onClick:n,onKeyDown:n,className:"clear-search icon-actions-clear-sm"},t().createElement("span",null))):t().createElement("input",{ref:E,id:"navbar-search-input","data-testid":"navigation-search-input-field",className:"form-control input-field",type:"text",value:o,onChange:s,placeholder:a("Label.sSearch"),maxLength:"120",onFocus:c,onKeyDown:d,onKeyUp:b,autoComplete:"off"})),t().createElement("div",{className:"input-group-btn"},t().createElement("button",{"data-testid":"navigation-search-input-search-button",className:"input-addon-btn",type:"submit"},t().createElement("span",{className:"icon-common-search-sm"})))),t().createElement("ul",{ref:w,className:C()("dropdown-menu",{"new-dropdown-menu":S}),role:"menu",onMouseEnter:function(){f(!0)},onMouseLeave:function(){f(!1)}},S?t().createElement(Pt,{translate:a,searchInput:o,indexOfSelectedOption:m,searchSuggestions:y,autocompleteSessionInfo:g,resetAutocompleteSessionInfo:h}):t().createElement(wt,{translate:a,searchInput:o,indexOfSelectedOption:m,autocompleteSessionInfo:g,resetAutocompleteSessionInfo:h})))}Ut.defaultProps={isUniverseSearchShown:!0,isAvatarAutocompleteEnabled:!1},Ut.propTypes={translate:w().func.isRequired,searchInput:w().string.isRequired,isMenuOpen:w().bool.isRequired,openMenu:w().func.isRequired,closeMenu:w().func.isRequired,handleSearch:w().func.isRequired,setIsMenuHover:w().func.isRequired,indexOfSelectedOption:w().number.isRequired,onSubmit:w().func.isRequired,onKeyDown:w().func.isRequired,onKeyUp:w().func.isRequired,isUniverseSearchShown:w().bool,isAvatarAutocompleteEnabled:w().bool,searchSuggestions:w().arrayOf(w().oneOfType([w().shape({type:w().number.isRequired,score:w().number.isRequired,universeId:w().number.isRequired,canonicalTitle:w().string,thumbnailUrl:w().string,searchQuery:w().string.isRequired,trendingSearchStartDateTime:w().string}),w().shape({url:w().string.isRequired,label:w().string.isRequired,pageSort:w().arrayOf(w().string).isRequired,icon:w().string}),w().shape({query:w().string.isRequired,score:w().number.isRequired})])).isRequired,autocompleteSessionInfo:w().string.isRequired,resetAutocompleteSessionInfo:w().func.isRequired};var Dt=Ut;function qt(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}function Mt(e){return function(e){if(Array.isArray(e))return Kt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Ft(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}}(e,t)||Ft(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ft(e,t){if(e){if("string"==typeof e)return Kt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Kt(e,t):void 0}}function Kt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Qt(n){var a=n.translate,i=n.isUniverseSearchShown,c=(w=Bt((0,e.useState)(function(e){var t={};return("?"===e[0]?e.substr(1):e).split("&").forEach((function(e){var n;e.includes("=")&&(e=(n=ce(e.split("="),2))[0],n=n[1],t[null===(e=decodeURIComponent(e))||void 0===e?void 0:e.toLowerCase()]=decodeURIComponent(n))})),t}(window.location.search).keyword||""),2))[0],s=w[1],f=(0,l.useDebounce)(c,et.debounceTimeout),m=(0,l.usePrevious)(f),p=(n=Bt((0,e.useState)(null),2))[0],d=n[1],b=(w=Bt((0,e.useState)(gt.generateSessionInfo()),2))[0],v=w[1],y=(n=Bt((0,e.useState)(!1),2))[0],g=n[1],h=(w=Bt((0,e.useState)(!0),2))[0],S=w[1],E=(n=Bt((0,e.useState)(!1),2))[0],w=n[1],O=(n=Bt((0,e.useState)(0),2))[0],C=n[1],x=(n=Bt((0,e.useState)(!1),2))[0],A=n[1],I=(n=Bt((0,e.useState)(!1),2))[0],k=n[1],j=u,N=(n=Bt((0,e.useState)((et.isAutocompleteSuggestionsIXPTestEnabled()?Ne:je)()),2))[0],T=n[1],P=N.findIndex((function(e){return e.label===R.gameSearchLink.label})),L=Ne().findIndex((function(e){return e.label===R.avatarSearchLink.label})),U=function(){var e=(new o.TranslationResourceProvider).intl.locale,t=e.indexOf("-");return(e=e.substring(0,-1!==t?t:e.length))!==et.englishLanguageCode&&(e+=",".concat(et.englishLanguageCode)),e}();function D(e){if(e){if(q){var t=-1===p.findIndex((function(e){return e.searchQuery===f.toLowerCase()&&mt(e)})),n=e.filter((function(e){return e.searchQuery!==f.toLowerCase()||mt(e)}));return[].concat(Mt(N.slice(0,t?L+1:L)),Mt(n),Mt(N.slice(L+1)))}return et.isSpecialTreatmentAutocompleteRestricted()?N:(n=-1===e.findIndex((function(e){return e.searchQuery===f.toLowerCase()&&e.type===Ye.GameSuggestion})),e=e.filter((function(e){return e.searchQuery!==f.toLowerCase()||e.type===Ye.GameSuggestion})).slice(0,et.isSpecialTreatment()?et.numberOfSpecialTreatmentAutocompleteSuggestions:et.numberOfAutocompleteSuggestions()),[].concat(Mt(N.slice(0,n?P+1:P)),Mt(e),Mt(N.slice(P+1))))}return N}(0,e.useEffect)((function(){o.ExperimentationService&&o.ExperimentationService.getAllValuesForLayer(et.experimentLayer).then((function(e){e.ixpDisableGamesAutocomplete&&A(!0)}))}),[]);var q=de.pageSort.some((function(e){return-1<window.location.pathname.indexOf(e)})),M=(0,e.useMemo)((function(){return D(p)}),[p,N]),B=M.length;function F(){v(gt.generateSessionInfo())}return(0,e.useEffect)((function(){h||$.eventStreamService.sendEvent.apply($.eventStreamService,Mt(gt.search(c,gt.actionTypes.submit,b))),S(!1);var e=function(){var e,t=(e=regeneratorRuntime.mark((function e(){var t,n,a,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(""!==f&&f.length<=et.debouncedSearchInputMaxLength)){e.next=34;break}if(d(null),t=Date.now(),q)return e.prev=4,n=Date.now(),e.next=8,st(f,U,et.avatarAutocompleteQueryPaddingAmount,m,I);e.next=20;break;case 8:o=e.sent,i=function(e,t){var n=0,r=[];return e.forEach((function(e){n<et.avatarAutocompleteSuggestionLimit&&e.Query!==t&&(r.push(e),n+=1)})),r}(o.Data,f),$.eventStreamService.sendEvent.apply($.eventStreamService,Mt(gt.searchAutocomplete(f,m,!1,i,o.Args.Algo,n-t,et.debounceTimeout,"",r.pageName.PageNameProvider.getInternalPageName(),""!==m))),d(i),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(4),r.httpService.isCancelled(e.t0)||d([]),k(!0);case 18:e.next=34;break;case 20:if(et.isAutocompleteSuggestionsIXPTestEnabled()&&!x)return e.prev=21,e.next=24,ut(f);e.next=34;break;case 24:a=e.sent,o=Date.now(),i=D(a.entries),$.eventStreamService.sendEvent.apply($.eventStreamService,Mt(gt.searchAutocomplete(f,m,!1,bt(i,f),a.algorithmName,o-t,et.debounceTimeout,b,r.pageName.PageNameProvider.getInternalPageName(),!1))),d(a.entries),e.next=34;break;case 31:e.prev=31,e.t1=e.catch(21),r.httpService.isCancelled(e.t1)||d([]);case 34:case"end":return e.stop()}}),e,null,[[4,14],[21,31]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){qt(o,r,a,i,c,"next",e)}function c(e){qt(o,r,a,i,c,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}();q&&T(Ne()),e()}),[f]),t().createElement(Dt,{searchInput:c,handleSearch:function(e){(e=e.target.value).length<c.length&&$.eventStreamService.sendEvent.apply($.eventStreamService,Mt(gt.searchTextTrim(c,e,void 0,b))),0===e.length&&F(),C(0),g(0<e.length),s(e)},openMenu:function(){var e=gt.generateSessionInfo();$.eventStreamService.sendEvent.apply($.eventStreamService,Mt(gt.search(c,gt.actionTypes.open,e))),v(e),0===c.length||E||g(!0)},closeMenu:function(){y&&($.eventStreamService.sendEvent.apply($.eventStreamService,Mt(gt.search(c,gt.actionTypes.close,b))),g(!1))},setIsMenuHover:w,isMenuOpen:y,indexOfSelectedOption:O,onSubmit:function(e){e.preventDefault(),e.stopPropagation()},onKeyDown:function(e){var t=O;!y||e.keyCode!==j.arrowUp&&e.keyCode!==j.arrowDown&&e.keyCode!==j.tab||(e.stopPropagation(),e.preventDefault(),e.keyCode===j.arrowUp?--t:t+=1,(t%=B)<0&&(t=B+t),C(t))},onKeyUp:function(e){var t,n,a,o;e.keyCode===j.enter&&(e.stopPropagation(),e.preventDefault(),t=M[O],ft(t)?($.eventStreamService.sendEvent.apply($.eventStreamService,Mt(gt.searchSuggestionClicked(f,void 0,O,t.searchQuery,pt(t),bt(M,c),b))),$.eventStreamService.sendEvent.apply($.eventStreamService,Mt(gt.catalogSearch(1,r.pageName.PageNameProvider.getInternalPageName())))):($.eventStreamService.sendEvent.apply($.eventStreamService,Mt(gt.searchSuggestionClicked(f,void 0,O,f,dt(t),bt(M,c),b))),$.eventStreamService.sendEvent.apply($.eventStreamService,Mt(gt.catalogSearch(0,r.pageName.PageNameProvider.getInternalPageName())))),F(),(o=function(e,t){var n;return ot(e)&&it(e)?R.avatarSearchLink.url+encodeURIComponent(e.Query):ot(e)?R.gameSearchLink.url+encodeURIComponent(e.searchQuery):null!=t&&null!==(n=t.target)&&void 0!==n&&n.value?e.url+encodeURIComponent(t.target.value):""}(t,e))&&(n=et.isRedirectLibraryToCreatorMarketplaceEnabled,o=o,"Label.CreatorMarketplace"===t.label&&n()&&(o=R.creatorMarketplaceUrl,null!=e&&null!==(a=e.target)&&void 0!==a&&a.value&&(o+=encodeURIComponent(e.target.value))),window.location=o))},isUniverseSearchShown:i,translate:a,searchSuggestions:M,autocompleteSessionInfo:b,resetAutocompleteSessionInfo:F,isAvatarAutocompleteEnabled:q})}Qt.defaultProps={isUniverseSearchShown:!0},Qt.propTypes={translate:w().func.isRequired,isUniverseSearchShown:w().bool};var Gt=(0,l.withTranslations)(Qt,S);function _t(e){return(_t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zt(e,t){return(zt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $t(e){return($t=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ht=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&zt(e,t)}(a,t().Component);var e,n,r=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=$t(e);return n=t?(n=$t(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this,!(n=n)||"object"!==_t(n)&&"function"!=typeof n?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(r):n}}(a);function a(){return function(e){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this),r.apply(this,arguments)}return e=a,(n=[{key:"componentDidMount",value:function(){try{oe().module("notificationStreamIcon"),oe().bootstrap(this.container,["notificationStreamIcon"])}catch(e){console.log(e)}}},{key:"render",value:function(){var e=this;return t().createElement("span",{ref:function(t){e.container=t},className:"nav-robux-icon rbx-menu-item"},t().createElement("span",{id:"notification-stream-icon-container","notification-stream-indicator":"true"}))}}])&&Vt(e.prototype,n),a}();function Wt(e){return(Wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Jt(e,t){return(Jt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Yt(e){return(Yt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Zt=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Jt(e,t)}(a,t().Component);var e,n,r=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Yt(e);return n=t?(n=Yt(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this,!(n=n)||"object"!==Wt(n)&&"function"!=typeof n?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(r):n}}(a);function a(){return function(e){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this),r.apply(this,arguments)}return e=a,(n=[{key:"componentDidMount",value:function(){try{oe().module("notificationStream"),oe().bootstrap(this.container,["notificationStream"])}catch(e){console.log(e)}}},{key:"render",value:function(){var e=this,n=Te();n=C()("notification-stream-base",n);return t().createElement("div",{ref:function(t){e.container=t},className:n,"notification-stream-base-view":"true"})}}])&&Xt(e.prototype,n),a}(),en="nsCloseContent",tn="click",nn={};function rn(){var n=(0,e.useRef)();return t().createElement("li",{id:"navbar-stream",ref:n,className:"navbar-icon-item navbar-stream notification-margins"},t().createElement(x.Popover,{id:"notification-stream-popover",trigger:"click",placement:"bottom",closeOnClick:!1,button:t().createElement("button",{type:"button",className:"btn-uiblox-common-common-notification-bell-md"},t().createElement(Ht,null)),container:n.current,onExit:function(){window.dispatchEvent(new Event("Roblox.NotificationStream.StreamClosed")),$.eventStreamService.sendEventWithTarget(en,tn,nn)},role:"menu"},t().createElement(Zt,null)))}rn.propTypes={};var an=rn;function on(e){var n=e.accountNotificationCount;e=C()("notification-red notification nav-setting-highlight",{hidden:0===n});return t().createElement("span",{id:"settings-icon",className:"nav-settings-icon rbx-menu-item"},t().createElement("span",{className:"icon-nav-settings roblox-popover-close",id:"nav-settings"}),t().createElement("span",{className:e},n))}on.defaultProps={accountNotificationCount:0},on.propTypes={accountNotificationCount:w().number};var cn=on;function ln(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var un=R.settingsUrl,sn=R.quickLoginUrl,fn=T,mn=y,pn=h,dn=g;function bn(e){var n=e.translate,r=e.accountNotificationCount,a=e.isCrossDeviceLoginCodeValidationDisplayed,o=C()("notification-blue notification nav-setting-highlight",{hidden:0===r});return Object.entries(un).map((function(e){var i=(c=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ln(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ln(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,2))[0],c=(e=c[1]).url;e=e.label;return t().createElement("li",null,i===dn&&t().createElement(x.Link,{className:"rbx-menu-item logout-menu-item",key:i,onClick:fn,url:"#"},n(e)),i===mn&&a&&t().createElement(x.Link,{className:"rbx-menu-item",key:i,url:sn},n(e)),i!==dn&&i!==mn&&t().createElement(x.Link,{cssClasses:"rbx-menu-item",key:i,url:c},n(e),i===pn&&t().createElement("span",{className:o},r)))}))}bn.defaultProps={accountNotificationCount:0,isCrossDeviceLoginCodeValidationDisplayed:!1},bn.propTypes={translate:w().func.isRequired,accountNotificationCount:w().number,isCrossDeviceLoginCodeValidationDisplayed:w().bool};var vn=bn;function yn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function gn(n){var r=n.translate,a=n.accountNotificationCount,o=(n=(i=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return yn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?yn(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,e.useState)(!1),2))[0],i[1]),i=(0,e.useRef)();return(0,e.useEffect)((function(){o(!0)}),[]),t().createElement("li",{id:"navbar-settings",ref:i,className:"navbar-icon-item"},t().createElement(x.Popover,{id:"settings-popover",trigger:"click",placement:"bottom",className:Te(),containerPadding:20,button:t().createElement("button",{type:"button",className:"btn-navigation-nav-settings-md"},t().createElement(cn,{accountNotificationCount:a})),container:i.current,role:"menu"},t().createElement("div",{className:Te()},t().createElement("ul",{id:"settings-popover-menu",className:"dropdown-menu"},t().createElement(vn,{isCrossDeviceLoginCodeValidationDisplayed:n,translate:r,accountNotificationCount:a})))))}gn.defaultProps={accountNotificationCount:0},gn.propTypes={translate:w().func.isRequired,accountNotificationCount:w().number};var hn=gn;function Sn(n){var a=n.robuxAmount,o=n.isGetCurrencyCallDone;a=(n=n.robuxError)?"?":r.abbreviateNumber.getTruncValue(a),a=t().createElement(e.Fragment,null,t().createElement("span",{className:"icon-robux-28x28 roblox-popover-close",id:"nav-robux"}),t().createElement("span",{className:"rbx-text-navbar-right text-header",id:"nav-robux-amount"},o&&a));return t().createElement("span",{id:"nav-robux-icon",className:"nav-robux-icon rbx-menu-item"},n?t().createElement(x.Tooltip,{id:"current-error",content:n,placement:"bottom",containerClassName:"nav-buy-robux-icon-tooltip-container"},a):a)}Sn.defaultProps={robuxAmount:0,robuxError:""},Sn.propTypes={robuxAmount:w().number,robuxError:w().string,isGetCurrencyCallDone:w().bool.isRequired};var En=Sn,wn=R.buyRobuxUrl;function On(e){var n=e.translate,a=e.robuxAmount,o=e.isGetCurrencyCallDone;a=e.robuxError?"?":r.numberFormat.getNumberFormat(a);return t().createElement(t().Fragment,null,t().createElement("li",null,t().createElement(x.Link,{cssClasses:"rbx-menu-item",id:"nav-robux-balance",url:wn.robuxBalance.url},o&&n("Label.sRobuxMessage",{robuxValue:a}))),t().createElement("li",null,t().createElement(x.Link,{cssClasses:"rbx-menu-item",url:wn.buyRobux.url},n(wn.buyRobux.label))))}On.defaultProps={robuxAmount:0,robuxError:""},On.propTypes={translate:w().func.isRequired,robuxAmount:w().number,robuxError:w().string,isGetCurrencyCallDone:w().bool.isRequired};var Cn=On;function xn(n){var r=n.translate,a=n.robuxAmount,o=n.isGetCurrencyCallDone,i=n.robuxError;n=(0,e.useRef)();return t().createElement("li",{id:"navbar-robux",ref:n,className:"navbar-icon-item"},t().createElement(x.Popover,{id:"buy-robux-popover",trigger:"click",placement:"bottom",button:t().createElement("button",{type:"button",className:"btn-navigation-nav-robux-md"},t().createElement(En,{robuxAmount:a,isGetCurrencyCallDone:o,robuxError:i})),role:"menu",container:n.current},t().createElement("div",{className:Te()},t().createElement("ul",{id:"buy-robux-popover-menu",className:"dropdown-menu"},t().createElement(Cn,{translate:r,robuxAmount:a,isGetCurrencyCallDone:o,robuxError:i})))))}xn.defaultProps={robuxAmount:0,robuxError:""},xn.propTypes={translate:w().func.isRequired,robuxAmount:w().number,robuxError:w().string,isGetCurrencyCallDone:w().bool.isRequired};var An=xn;function In(e){return e=e.toggleUniverseSearch,t().createElement("li",{className:"rbx-navbar-right-search"},t().createElement("button",{type:"button",className:"rbx-menu-item btn-navigation-nav-search-white-md",onClick:e},t().createElement("span",{className:"icon-nav-search-white"})))}In.propTypes={toggleUniverseSearch:w().func.isRequired};var kn=In;function jn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Nn(){var n=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return jn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jn(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,e.useState)(!1),2),r=n[0],a=n[1];return(0,e.useEffect)((function(){(0,I.robloxBadgesReadyForRender)().then((function(e){return a(e&&(0,I.currentUserHasVerifiedBadge)())}))}),[]),n=c.authenticatedUser.isUnder13,r=r&&I.VerifiedBadgeIcon?t().createElement(I.VerifiedBadgeIcon,{overrideImgClass:"verified-badge-icon-header",size:I.BadgeSizes.CAPTIONHEADER,titleText:I.translatedVerifiedBadgeTitleText}):null,t().createElement("div",{className:"age-bracket-label text-header"},t().createElement(x.Link,{className:"text-link dynamic-overflow-container",url:R.scrollListItems.profile.url},t().createElement("span",{className:"avatar avatar-headshot-xs"},t().createElement(A.Thumbnail2d,{containerClass:"avatar-card-image",targetId:c.authenticatedUser.id,type:A.ThumbnailTypes.avatarHeadshot,altName:c.authenticatedUser.name})),t().createElement("span",{className:"text-overflow age-bracket-label-username font-caption-header"},_e.nameForHeader),r),t().createElement("span",{className:"xsmall age-bracket-label-age text-secondary"},n?"<13":"13+"))}Nn.propTypes={};var Tn=Nn;function Rn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Pn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Pn(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ln=k;function Un(n){var a,o=n.translate,i=n.toggleUniverseSearch,l=c.authenticatedUser.isAuthenticated,u=c.authenticatedUser.id,s=(d=Rn((0,e.useState)(0),2))[0],f=d[1],m=(a=Rn((0,e.useState)(!1),2))[0],p=a[1],d=(n=Rn((0,e.useState)(0),2))[0],b=n[1],v=(n=(a=Rn((0,e.useState)(""),2))[0],a[1]);(0,e.useEffect)((function(){l&&(Ln().then(f),function(e){return e={url:Q(e),withCredentials:!0},r.httpService.get(e)}(u).then((function(e){e=e.data,b(e.robux)}),(function(){v("Currency service unavailable")})).finally((function(){p(!0)})))}),[l,u]);var y=t().createElement("li",{id:"navbar-stream",className:"navbar-icon-item navbar-stream"},t().createElement("span",{className:"nav-robux-icon rbx-menu-item"},t().createElement("span",{id:"notification-stream-icon-container","notification-stream-indicator":"true"})));try{oe().module("notificationStreamIcon"),oe().module("notificationStream"),y=t().createElement(an,null)}catch(n){console.log(n)}return t().createElement("ul",{className:"nav navbar-right rbx-navbar-icon-group"},t().createElement(Tn,null),t().createElement(kn,{translate:o,toggleUniverseSearch:i}),y,t().createElement(An,{translate:o,robuxAmount:d,isGetCurrencyCallDone:m,robuxError:n}),t().createElement(hn,{translate:o,accountNotificationCount:s}))}function Dn(){window.location.href=Mn()}Un.defaultProps={accountNotificationCount:0},Un.propTypes={translate:w().func.isRequired,accountNotificationCount:w().number,toggleUniverseSearch:w().func.isRequired};var qn=Un,Mn=O;function Bn(e){return e=e.translate,t().createElement("li",{className:"signup-button-container"},t().createElement(x.Link,{onClick:Dn,url:Mn(),id:"sign-up-button",className:"rbx-navbar-signup btn-growth-sm nav-menu-title signup-button"},e("Label.sSignUp")))}function Fn(){window.location.href=Gn()}Bn.propTypes={translate:w().func.isRequired};var Kn=Bn,Qn=f,Gn=j;function _n(e){return e=e.translate,t().createElement("li",{className:"login-action"},Qn()&&t().createElement(x.Link,{onClick:Fn,url:Gn(),className:"rbx-navbar-login btn-secondary-sm nav-menu-title rbx-menu-item"},e("Label.sLogin")))}_n.propTypes={translate:w().func.isRequired};var Vn=_n;function zn(){return(zn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function $n(e){var n=e.translate,r=e.toggleUniverseSearch;e=function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],0<=t.indexOf(n)||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols)for(var a=Object.getOwnPropertySymbols(e),o=0;o<a.length;o++)n=a[o],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(e,["translate","toggleUniverseSearch"]);return c.authenticatedUser.isAuthenticated?t().createElement("div",{className:"navbar-right rbx-navbar-right"},t().createElement(qn,zn({translate:n,toggleUniverseSearch:r},e))):t().createElement("div",{className:"navbar-right rbx-navbar-right"},t().createElement("ul",{className:"nav navbar-right rbx-navbar-right-nav"},t().createElement(Kn,{translate:n}),t().createElement(Vn,{translate:n}),t().createElement(kn,{translate:n,toggleUniverseSearch:r})))}$n.propTypes={translate:w().func.isRequired,toggleUniverseSearch:w().func.isRequired};var Hn=$n;function Wn(){return(Wn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Xn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Jn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Jn(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Jn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Yn=(0,l.withTranslations)((function(n){var r=ke(),a=Xn((0,e.useState)(r),2),o=a[0],i=a[1],c=(r=(a=Xn((0,e.useState)(!r),2))[0],a[1]),l=(0,e.useCallback)((function(){var e=ke();o!==e&&(i(e),c(!e))}),[o]);return(0,e.useEffect)((function(){return window.addEventListener("resize",l),function(){window.removeEventListener("resize",l)}}),[l]),t().createElement(t().Fragment,null,t().createElement(Gt,Wn({isUniverseSearchShown:r},n)),t().createElement(Hn,Wn({toggleUniverseSearch:function(){c((function(e){return!e}))}},n)))}),S);function Zn(e){e=e.translate;var n=document.getElementById("container-main");return t().createElement(x.Button,{id:"skip-to-main-content",size:x.Button.sizes.extraSmall,variant:x.Button.variants.primary,onClick:function(){return n.focus()}},e("Action.SkipToMainContent")||"Skip to main content")}Zn.propTypes={translate:w().func.isRequired};var er=Zn,tr=v,nr=c.authenticatedUser.isAuthenticated;function rr(n){var r=x.IconButton.iconTypes;return t().createElement(e.Fragment,null,t().createElement(er,n),nr&&t().createElement(x.IconButton,{className:"menu-button",iconType:r.navigation,iconName:"nav-menu",onClick:function(){document.dispatchEvent(new CustomEvent(tr.name))}}))}rr.propTypes={};var ar=(0,l.withTranslations)(rr,S);function or(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function ir(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?or(Object(n),!0).forEach((function(t){var r,a;r=e,t=n[a=t],a in r?Object.defineProperty(r,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[a]=t})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):or(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n(635);N=N;var cr="right-navigation-header",lr="left-navigation-container",ur="header-menu-icon";i().NavigationService=ir(ir({},i().NavigationService),{},{logoutAndRedirect:N}),(0,r.ready)((function(){document.getElementById(ur)&&(0,a.render)(t().createElement(ar,null),document.getElementById(ur)),document.getElementById(cr)&&(0,a.render)(t().createElement(Yn,null),document.getElementById(cr)),document.getElementById(lr)&&(0,a.render)(t().createElement(Ze,null),document.getElementById(lr))}))}()}(),window.Roblox&&window.Roblox.BundleDetector&&window.Roblox.BundleDetector.bundleDetected("Navigation");